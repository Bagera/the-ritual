<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>The Ritual</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <style>
      html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;box-sizing:border-box}h1{font-size:2em;margin:.67em 0}button,dl dl,dl ol,dl ul,input,ol dl,ol ol,ol ul,select,ul dl,ul ol,ul ul{margin:0}hr{box-sizing:content-box;color:inherit;height:0;overflow:visible}details,main{display:block}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}audio,canvas,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}table{border-color:inherit;text-indent:0}button{overflow:visible;text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}fieldset{padding:.35em .75em .625em}input{overflow:visible}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;white-space:normal}progress{display:inline-block;vertical-align:baseline}select{text-transform:none}textarea{margin:0;overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:ButtonText dotted 1px}:-moz-ui-invalid{box-shadow:none}dialog{background-color:#fff;border:solid;color:#000;display:block;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;left:0;margin:auto;padding:1em;position:absolute;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}[hidden],dialog:not([open]),template{display:none}summary{display:list-item}*,:after,:before{box-sizing:inherit}tw-passage,tw-story{display:block}tw-storydata{display:none}
    </style>
  </head>

  <body>
    <main>
      <tw-story tags></tw-story>
      <tw-storydata name="&quot;The Ritual&quot; Final Version" startnode="78" creator="Twine" creator-version="2.3.5" ifid="3AC9EAB3-2040-4CA3-9BC3-7095D51FB0DE" zoom="0.6" format="vanilja" format-version="1.0.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">//const baseUrl = "https://the-ritual.netlify.app/";
const baseUrl = "";
// const baseUrl = "http://127.0.0.1:5500/";
window.story.state.currentLoc = "St Mary";

function setBase(baseUrl) {
  const base = document.createElement("base");
  base.setAttribute("href", baseUrl);
  document.head.prepend(base);
}

if(baseUrl) {
	//setBase(baseUrl);
}

Utils.addStyle(baseUrl + "css/style.css");
Utils.addStyle(baseUrl + "css/fonts.css");
Utils.addScript(baseUrl + "js/splat.js");

Utils.addScript(baseUrl + "js/ritual-map.js");
Utils.addStyle(baseUrl + "css/ritual-map.css");

Utils.addScript(baseUrl + "js/ritual-clock.js");
Utils.addStyle(baseUrl + "css/ritual-clock.css");

Utils.addScript(baseUrl + "js/ritual-inventory.js");
Utils.addStyle(baseUrl + "css/ritual-inventory.css");

Utils.addScript(baseUrl + "js/ritual-modal.js");
Utils.addStyle(baseUrl + "css/ritual-modal.css");

Utils.addScript(baseUrl + "js/main.js");
</script><tw-tag name="Beer-Lady" color="blue"></tw-tag>,<tw-tag name="BeerLady" color="blue"></tw-tag>,<tw-tag name="Event" color="orange"></tw-tag>,<tw-tag name="Journal" color="orange"></tw-tag>,<tw-tag name="Pin" color="yellow"></tw-tag>,<tw-tag name="The-Midwife" color="green"></tw-tag>,<tw-tag name="The-Mystic" color="purple"></tw-tag>,<tw-tag name="The-Painter" color="red"></tw-tag>,<tw-tag name="inventory" color="orange"></tw-tag>,<tw-tag name="item" color="orange"></tw-tag><tw-passagedata pid="1" name="Start" tags="Beer-Lady no-footer" position="501,38" size="100,100">

# &lt;p style=&quot;color:#800000&quot;&gt;Prologue&lt;/p&gt;

You stumble out of a doorway onto the street outside. A cart passes in a violent manner, “Watch it!” a voice shouts as it rages on; you lose balance and find footing in a pool of black grimy water. The worn and torn leather shoe quickly starts soaking. You let out a heavy sigh and unsteadily lean downwards to wipe it off with a handkerchief that is in your hand. A pair of male laced boots comes into view while you focus strenuously on the task of wiping off the water,

&amp;emsp;“There are better ways of starting one’s day than being run over, wouldn’t you say.” Your back aches, as does the head, and the movement of getting back up is slow and laborious. Finally, you see the face where the voice emanates from. Seconds go by as you assess the Man’s appearance: a gentleman, to be sure, but he looks rugged and displaced.

&amp;emsp;“I reckon there are. Seeing how they drive and all – one could be dead or worse. Shameful it is, I say.”

&amp;emsp;“Mm, dead or worse. Shame. Say, let me buy you a pint, keep an eye out for rogue carts and cabs, and then see you off safely?&quot;

[[Continue.-&gt;Beer-Lady-1]]



</tw-passagedata><tw-passagedata pid="2" name="Beer-Lady-1" tags="Beer-Lady" position="502,158" size="100,100">
You explain that you aren&#39;t working at the moment; the Man assures that his intentions are solely out of concern and a want of companionship. A sigh slips out as you remember last night’s endeavours and the cost of it. A pint would set your mind straight: one beer, no more. You accept his arm and together walk down  ––– Street and into the pub.

&amp;emsp;The barkeep nods in recognition upon entry and you go to sit down by a table in the back room. The Man joins shortly with two glasses brimming to the top with beer, the glass-handle feels cool against your hand as you take hold of it and move it closer. A stained circle on the wooden table catches your attention: the watermark is uneven, giving the impression of the circle being thicker and thinner at certain parts.

[[Continue.-&gt;Beer-Lady-2]]

</tw-passagedata><tw-passagedata pid="3" name="Beer-Lady-2" tags="Beer-Lady" position="498,267" size="100,100">

&amp;emsp;“Looks like a snake biting its own tail. Remember me mum telling me about one of those stories the Norse had or somethin’.”

&amp;emsp;“Ah, yes. The Ouroboros.”

&amp;emsp;“Huh? No. That isn’t it. Something real proper-like, not orraborras.”

&amp;emsp;“The eternal circle I believe it is referred to as. In any case, the name is perhaps secondary and what it represents is more of significance. Who wouldn&#39;t want everlasting life… Say, would you be interested in hearing a story? It’s only a short one. Have a listen, enjoy the pint and you&#39;ll go about your day in no time.”

You nod, take a sip of white foam from the drink and the Man begins to speak.

[[Continue.-&gt;Transition]]
</tw-passagedata><tw-passagedata pid="4" name="The Painter" tags="The-Painter" position="1193,24" size="100,100"># &lt;p style=&quot;color:#800000&quot;&gt;The Painter&lt;/p&gt;

The engulfing darkness has retreated and you find yourself in a bright room: a sun-lit studio with large windows, facing a street and a church, and heavy burgundy drapes from floor to ceiling. The floor is covered in paint speckles and debris, a leathered chair strewn with clothes stands in a corner.

&amp;emsp;As the surroundings increase in clarity, so do you. You are painting in an energetic yet controlled manner in front of a large canvas. It&#39;s a chilling scene with dark colours in hues of black, brown, and red and with a central figure devoid of any human resemblance. You don’t know who you’ve painted, but something makes you think that you’ll know soon enough: you paint premonitions.

&amp;emsp;Perhaps you should [[stop painting-&gt;Painter-3]]  and go out for some breakfast or [[continue painting-&gt;Painter-2]] to see what else lingers in the depth of your subconscious.
</tw-passagedata><tw-passagedata pid="5" name="The Midwife" tags="The-Midwife" position="1979,20" size="100,100"># &lt;p style=&quot;color:#800000&quot;&gt;The Midwife&lt;/p&gt;

You’re sitting on a neat bed in a sparsely decorated room with nothing more than a chair, a bedside table, the Bible, a candle and a painting of St. Anne hanging on the wall. The view outside of the small window is still dark, but you can hear the sounds of Whitechapel. Workers rushing through the dawn on their way to work, and the squabbles when rough sleepers are being woken and shushed away.

[[Continue.-&gt;Midwife 1]]</tw-passagedata><tw-passagedata pid="6" name="Painter-3" tags="The-Painter" position="1190,249" size="100,100">
You put the paint palette on a nearby table and the brush in an old vase filled with water. The red colours on your hands are fading away as you rub a towel over them. You walk over the wooden floor towards the hallway and put on your black coat. With the studio door closed and locked behind you, the city beckons you out. Maybe a piece of pie and a pint at the Britannica? [[Yes, let’s go there and see where the day takes you.-&gt;At the Pub 1]]</tw-passagedata><tw-passagedata pid="7" name="Painter-2" tags="The-Painter" position="1189,141" size="100,100">

You focus on the painting once more and a sensation of foreboding comes over you when you look at the eerie character in the centre. No use to continue with it - it is finished. You gently lift the wet canvas off the easel, lean it against a wall and pick up a new canvas.

&amp;emsp;The white crisp surface induces a trance in you; your body begins an automated movement between mixing of colours and brush strokes. This is heaven to you, a place near the highest ideals away from the mundane and toward the sublime. You can soar over landscapes or enter the intimacies of private rooms and people’s souls -- painting is a way to transcendence. The trance lifts and you take a step back: the image before you is not quite ready.

&amp;emsp;There are contours of a round object and outlines of something more. You’d like to continue to paint but feel hunger coming on, you&#39;ll go to the pub for a bite to eat.

[[Continue.-&gt;Painter-3]]

</tw-passagedata><tw-passagedata pid="8" name="At the Pub 2" tags="The-Painter" position="1238,363" size="100,100">&amp;emsp;“Really, it’s no bother. An act of kindness early in the day is a good start for someone like myself. May I join you? For companionship and a moment’s reprieve from walking this endless journey one is on.”

You thank him and reply yes; the two of you go to sit down by a table. The barkeep comes to serve you a large pint of bitter and a slice of meat pie and as you start eating, the Man’s eyes follow your every movement. 

&amp;emsp;“Ah, pardon. I’m ravenous at this time of day, it being the first meal and all. Thank you, sir.”, you say.

&amp;emsp;“To be ravenous, to be young and see the world all anew; one might say they envy you. Perhaps you’d consider hearing a story whilst you eat?” You shrug to indicate “Sure, why not”, and he begins to speak.

[[Continue.-&gt;Transition 1]]</tw-passagedata><tw-passagedata pid="9" name="Paintings Stage 1" tags="The-Painter" position="1485,262" size="100,100">
An abstract scene of London comes to form on the canvas. You sense life on the street although the image of it is blurry and unfinished. There is something more prominent in the centre of the painting: a coin. An antique coin with a pentagram on it. Like the one the Mystic used for the ritual? You get an eerie feeling that it is precisely the same one as the Mystic used...

[[Continue painting.-&gt;Paintings Stage 2]]</tw-passagedata><tw-passagedata pid="10" name="Back at the Pub" tags="The-Painter" position="1120,483" size="100,100"># &lt;p style=&quot;color:#800000&quot;&gt;The Painter&lt;/p&gt;

The pie lies half-eaten on your plate, the appetite lost during the course of the story. The paintings from earlier this morning now make sense: you’ve managed to depict Erebos and started to paint an object to be found. Your stomach turns at the thought of what’s ahead of you.

&amp;emsp;“You have until midnight to perform the ritual, and a man of your curious abilities is likely to find creative solutions. I shan’t keep you: time&#39;s ticking.” The man rises, puts on his black hat and leaves.

You are left alone by the table in a state of terror. The Man’s beer is left untouched and you chug it down to ease the nerves. You want to get out of here, head home to the studio and paint.

[[Continue.-&gt;Paint after Pub]]

</tw-passagedata><tw-passagedata pid="11" name="The Mystic&#39;s House" tags="The-Midwife Pin Mystic&#39;s-House" position="2749,63" size="100,100">

You walk down Leman Street and turn right, then left, towards Goodman’s Fields and Tenter Street plaza. Rows of houses going round and round; a faint hum behind the usual city noise that grows stronger as you near an old brick building: this is the place.

&amp;emsp;Knocks on the front door goes unanswered, you try the handle: the door is locked. You’ll have to climb over a cast iron fence that surrounds the house. You land on an overgrown path at the side of the house that takes you to a backdoor and is easy to pry open. The air inside the house is musty; the backdoor must’ve let the fog and damp in. It smells as if it has stood empty for quite some time.

[[‘Suppose you should look around a bit…-&gt;Drawing Room]]
</tw-passagedata><tw-passagedata pid="12" name="Drawing Room" tags="Mystic&#39;s-House" position="2750,185" size="100,100">

You&#39;re in the front room of the house: a sparse but elegant drawing room with an armchair, book table and table lamp, fireplace and a large antique rug that covers the floor. 

[[Search between the cushions of the armchair.-&gt;Armchair]]

[[Look at the books.-&gt;Books]]

[[Search around in the fireplace.-&gt;Fireplace]]

[[Go to another room.-&gt;Dining Room]]</tw-passagedata><tw-passagedata pid="13" name="Armchair" tags="Mystic&#39;s-House" position="2759,339" size="100,100">

You walk to the chair and start to rummage around the cushions; things tend to get stuck in places such as this. Alas, there are only crumbs and dust bunnies there.

[[Back.-&gt;Drawing Room]]
</tw-passagedata><tw-passagedata pid="14" name="Books" tags="Mystic&#39;s-House" position="2612,341" size="100,100">

You hunch down next to the table and lift out the books there. There are five of them, torn and well-read. One is about gardening, another about the lunar phase and the others are written in Latin and French; they don’t have any illustrations and you don’t know either French or Latin, so their content remains a mystery to you.  Oh, well. You put them back and stand up.

[[Back.-&gt;Drawing Room]]</tw-passagedata><tw-passagedata pid="15" name="Fireplace" tags="Mystic&#39;s-House" position="2896,342" size="100,100">

The fireplace is an ornate piece with carved flowers and branches in the stone frame; inside it is a pile of burned logs and paper. You bend down and start to look in the ashes for something useful: there is none and now you’re covered in soot.

[[Back.-&gt;Drawing Room]]</tw-passagedata><tw-passagedata pid="16" name="Dining Room" tags="Mystic&#39;s-House" position="2761,460" size="100,100">

You’re in a dining room combined kitchen, furnished with a stove, a dark table, four chairs, a large cabinet as well as a fireplace with a mantelpiece and landing that leads to the second floor of the house. Under the stairs is a door that probably leads to a basement. Cooking pots and pictures are hung on the walls but the pictures are turned around, as if to hide the images displayed in them.

[[Go to the cabinet.-&gt;Cabinet]]

[[Look at the mantelpiece.-&gt;Mantelpiece]]

[[Try the door.-&gt;Basement Door]]

[[Go upstairs.-&gt;Study]]</tw-passagedata><tw-passagedata pid="17" name="Cabinet" tags="Mystic&#39;s-House" position="2614,593" size="100,100">

The cabinet is a large and impressive piece of furniture, it looks very old. You open two of its doors: revealed within is a set of fine hand-painted china, six delicate and thin glasses, and a collection of penny dreadfuls. You take one out and look at its cover:

&amp;emsp;“The Dance of Death, The Hangman’s Plot: A tale of London &amp; Paris

&amp;emsp;The Newsagents Publishing Company, 147, Fleet Street, London, EC.”

It is not what you’re looking for, so you put it back with the rest and
continue to search the room.

[[Back.-&gt;Dining Room]] 
</tw-passagedata><tw-passagedata pid="18" name="Mantelpiece" tags="Mystic&#39;s-House" position="2754,593" size="100,100">

Above the fireplace is a wooden mantelpiece with some photographs: one pictures a young man in hiking gear with alps in the background, another of a group of people in hooded cloaks and large amulets around their necks. Perhaps the man lives here? Or used to? 

[[Pick up the picture of the man.-&gt;Picture of man]]

[[Pick up the picture of the people in hooded cloaks.-&gt;Picture of people]]

[[Back.-&gt;Dining Room]]
</tw-passagedata><tw-passagedata pid="19" name="Basement Door" tags="Mystic&#39;s-House" position="2884,595" size="100,100">

The door has engraved details in the wood, it is a beautiful intricate piece of work. You try the handle but the door is locked. Perhaps there is a key somewhere.

[[Back.-&gt;Dining Room]]</tw-passagedata><tw-passagedata pid="20" name="Picture of man" tags="Mystic&#39;s-House" position="2613,727" size="100,100">

You study the face of the man, he looks young and healthy. The background is impressive with deep valleys, large mountains and what seems to be roaring clouds. You turn the picture around where someone has written “Wanderer above the Sea of Fog.” Wonder what that means… You put the picture back. 

[[Pick up the other one.-&gt;Picture of people]]

[[Back.-&gt;Dining Room]]</tw-passagedata><tw-passagedata pid="21" name="Picture of people" tags="Mystic&#39;s-House" position="2751,726" size="100,100">

There are three people depicted in the image but you can’t see their faces. There is an air of gravity transmitting from the picture, you can tell that it is an important event. The background is dark and you can just barely see the outline of some pillars in the background: it doesn’t look like any room you’ve ever been in London. You turn the picture around and see that one of the hinges that holds the carton back in place is loose: something is underneath.

[[See what it is?-&gt;Picture frame]]

[[Back.-&gt;Dining Room]]</tw-passagedata><tw-passagedata pid="22" name="Picture frame" tags="Mystic&#39;s-House" position="2888,728" size="100,100">

You hold the picture frame carefully in your hands as you turn the hinges and pluck the carton off: here you find another picture, a plum-coloured velvet band and a note. The image is of the same man depicted in the other picture, but older, wearing the hooded cloak and holding an orb and a book. On the note it says, &lt;i&gt;“Ceremony of Initiation, Hermetic Order of the Golden Dawn with Westcott, Mathers and Lees, 1887.”&lt;/i&gt; Nothing else of use here, so you put everything back at its place and turn away from the mantelpiece and continue your search.

[[Back.-&gt;Dining Room]]
</tw-passagedata><tw-passagedata pid="23" name="Back from Other Stories" tags="Beer-Lady" position="500,380" size="100,100"># &lt;p style=&quot;color:#800000&quot;&gt;Epilogue&lt;/p&gt;

A pang of pain hits your chest. The pub seems smaller now, you yourself feel minuscule in light of the tall-tales told by the Man. But tall-tales they’re not, that would’ve been preferable. Just your luck you reckon: first the hubby died, then the other one left so you couldn’t afford paying rent, and now an evil spirit, ancient god, monster or man roams Whitechapel... As if the Man knew what you&#39;re thinking, [[he says:-&gt;Back 2]]

</tw-passagedata><tw-passagedata pid="24" name="Midwife 1" tags="The-Midwife" position="1917,135" size="100,100">Each morning follows a similar pattern: you pray beneath the image of St. Anne, pray for the East End, all the girls here and their road to redemption. Lord knows prayers are needed, the streets are seeming with vice and your work consists of helping the ones afflicted by it. After prayers, you make your way to the communal breakfast through the corridor, and even from a distance, you can hear loud-mouthed Agatha deep underway in her usual concoction of stories.

&amp;emsp;“I’ll tell you what, yesterday at the hospital, they admitted the most curious creature I’ve ever did see- no, you’ll never seen anythin’ like it. If I didn&#39;t know any better, I’d say he wasn’t human, but human he is. Joseph Merrick his name was. Agnes, come, listen to this-”

You enter the room and Agatha stops mid-sentence and harks a “Mornin’” and scurries off. After breakfast, you make your way to London Hospital for the list of today’s patients. As usual, there are some births to attend to and you make haste to the nearest one.

[[Continue.-&gt;Midwife 2]]

</tw-passagedata><tw-passagedata pid="25" name="Study" tags="Mystic&#39;s-House" position="2751,850" size="100,100">

You walk up the stairs to the second floor of the house and a thick and ominous fog comes into view and obscures your vision as you step off the landing. You freeze where you stand, close your eyes and take a deep breath, trying to keep calm. As you open them again, the fog has dispersed and the room where you’re in is clearly a study of sorts. That’s… odd. It’s like the fog never was here. You collect yourself and start to look around.

[[Book shelves.-&gt;Book Shelves]]

[[Desk.-&gt;Desk]]

[[Go to another room.-&gt;Bedroom]]</tw-passagedata><tw-passagedata pid="26" name="Book Shelves" tags="Mystic&#39;s-House" position="2612,965" size="100,100">

The shelves are full of books that are bound beautifully in leather. Some are written in languages you don’t even know, illustrated with images of alchemy, mathematics, saints, plants, planets, and an overwhelmingly large collection of various poems and poets. Where to begin? You sigh and look through the papers that are stuck here and there between the books: it’s just gibberish to you.

[[Go to the desk.-&gt;Desk]]

[[Go to another room.-&gt;Bedroom]]

[[Back.-&gt;Study]]</tw-passagedata><tw-passagedata pid="27" name="Desk" tags="Mystic&#39;s-House" position="2746,963" size="100,100">

The desk is made of mahogany with an inlaid green leather panel at the top, you count nine drawers in it. Starting from the left bottom drawer and pulling its handle, it doesn’t move. You go through the first four drawers methodically, each one locked, until you get to the one in the centre of the desk. It opens and you look through the contents:

A red handkerchief.

An old amulet on a long gold chain.

Papers.

More papers.

Something is projecting up from underneath the papers… 

[[Move them and see what it might be.-&gt;Hidden Compartment]]</tw-passagedata><tw-passagedata pid="28" name="Bedroom" tags="Mystic&#39;s-House" position="2760,1080" size="100,100">

You walk into the room that is next to the study. It’s a bedroom that is neatly decorated and furnished with a large wardrobe, washstand, bed and bedside cabinet, fireplace and an armchair. Two oil paintings hang on the wall with images of picturesque landscapes. The curtains by the windows are drawn shut, leaving the room dark. You draw them open to let light in and see a layer of dust covering the bed and furniture. No one has slept here for quite some time.

[[Go to the wardrobe.-&gt;Wardrobe]]

[[Go to the bedside cabinet.-&gt;Bedside Cabinet]]</tw-passagedata><tw-passagedata pid="29" name="Hidden Compartment" tags="Mystic&#39;s-House" position="2880,963" size="100,100">

A very delicate and well-hidden handle! You move the objects aside and lift up the bottom of the drawer. Underneath is a compartment decorated with velvet in the colour of plum and at its centre, a journal and dagger lay ceremoniously waiting for you.

You pick up the journal and skim through it. The pages are filled with detailed illustrations of people, places and things, and parts of poems are written down, with phrases underlined or scribbled notes next to them:

&amp;emsp;&amp;emsp;Soon spreads &lt;u&gt;the dismal shade&lt;/u&gt;

&amp;emsp;&amp;emsp;Of Mystery over his head;

&amp;emsp;&amp;emsp;And the Caterpillar and Fly,&amp;emsp;&amp;emsp;

&amp;emsp;&amp;emsp;And it bears the fruit of &lt;u&gt;Deceit&lt;/u&gt;,&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;i&gt;Not what it seems-&lt;/i&gt;

&amp;emsp;&amp;emsp;Ruddy and sweet to eat;

&amp;emsp;&amp;emsp;And the Raven his nest has made

&amp;emsp;&amp;emsp;In its thickest shade.

&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;-Blake

[[Back.-&gt;Study]]

[[Go to another room.-&gt;Bedroom]]</tw-passagedata><tw-passagedata pid="30" name="Wardrobe" tags="Mystic&#39;s-House" position="2696,1199" size="100,100">
A musky smell permeates your senses as you open the wardrobe. This, too, hasn’t been used for some time. The clothes are well-made in quality materials and it seems a shame no one is using them. A large moth climbs on the collar of a wool coat. It stretches out its wings and flies in your direction; you quickly shut the door.

[[Back.-&gt;Bedroom]]</tw-passagedata><tw-passagedata pid="31" name="Bedside Cabinet" tags="Mystic&#39;s-House" position="2833,1199" size="100,100">The cabinet has one door and a drawer: behind the door is nothing of interest but in the drawer you find a folded envelope with a weird symbol drawn on it. Inside the envelope is an intricate made key, wonder where it goes? Recalling the locked door downstairs, you take another quick look around the bedroom and then make your way down to try the key.

[[Continue.-&gt;Basement Door 2]]</tw-passagedata><tw-passagedata pid="32" name="Basement Door 2" tags="Mystic&#39;s-House yes-footer" position="3009,593" size="100,100">

The lock clicks and you can now open the door. A gust of wind hits you in the face and a stark odour overwhelms you. There are stairs that lead downwards; you walk down the stone steps while holding a hand against the wall for support in your dark descent. A slight hum rings in your ears and a vibration from the wall goes into the palm of your hand. You’re getting close. Step by step, the darkness begins to ease and eventually you find yourself in a large old basement. Such a room! A sight you’ve never seen before: the vaulted ceiling and its height, the treasure troves of antique objects stacked upon one another. Although, down here, the odour is now a gut-wrenching stench, and there is the source of it: in a cleared area of the room is a burnt circle with ash flakes hanging still in the air. Quite disconcerting… you want to leave but need to look around.

[[Continue.-&gt;Basement 3]]
</tw-passagedata><tw-passagedata pid="33" name="Journal" tags="Journal" position="3672,204" size="100,100">## The Mystic&#39;s Journal

— of March, 1888

Bolted the door to prevent anything from getting up from down there. The gate is shut, it must be. I did all I could. Erebos wandered away and took a part of me with him. I can feel it. My life is not my own. What a fool I was to believe that the knowledge of eternity would entail human happiness: there is only misery. The city is getting darker each day.

— of March, 1888

Londinium beckons. The Gods of old still reigns, I know it to be true. I am one. 

— of April, 1888

My fortress holds steadfast against the trampling hordes outside, Darkness has yet to penetrate my defences. None should suffer this fate. The turning of the wheel of misfortune; Lady Fortuna has abandoned me… Divide and conquer they say, so I shall. The artefacts will be strewn across the city and you may gather and use them against the foe and fiend.

Date unknown, 1888
PAIN DECEPTION MORNING GRIEF AND CHAOS
Cronus, Chronos and Aion TIME flows and stretches in perpetuity – there is no order, merely CHAOS

7th of Aug, 1888

Left the house today and a shroud lifted from my mind. I know it isn’t long till it’s permanent. I shall get on with my task, finish and outline it for those who seek a solution: I’ve seen you, perhaps merely phantasms, but I’ll prepare the way nonetheless. I met with Lees and he promised to keep it safe. The — will be located at the —, and the chalice at — Row, the grocery shop.

“Prophet!” said I, “thing of evil!—prophet still, if bird or devil!—
Whether Tempter sent, or whether tempest tossed thee here ashore,
            Desolate yet all undaunted, on this desert land enchanted—
            On this home by Horror haunted—tell me truly, I implore—
Is there—is there balm in Gilead?—tell me—tell me, I implore!”
                    Quoth the Raven “Nevermore.”


31st of Aug, 1888

I met it while out again. The streets of London darkened with fog, heavy rain and thunder. It possessed me, took control, chaos ensued, and there she was. I am sorry, deeply sorry… There is only misery.
 
Last entry, date unknown

The abyss is before me now. If I go, there will be no end in sight. What have I to fear? I am Aether: light follows where I lead. 
</tw-passagedata><tw-passagedata pid="34" name="Ritual" tags="Journal menu no-footer" position="3547,204" size="100,100">## Ritual Notes

&lt;b&gt;Claude portam, quam aperuisti et primordialem abiecisti, perfice ritum ante ictum mediae noctis. Utere potestate pentaculi cum artefactis magicis adhibitis. Vocationem antiquam dicunt et cantus et sic ritus perficitur.&lt;/b&gt;

“To close the gate that you have opened and to cast away the primordial, perform the ritual before the stroke of midnight. Use the power of the pentacle with the magic artefacts used before. Say the ancient call and chant and thus the rite is completed.”

Coin to pay for passage,    
Dagger to cut,         
Chalice to hold,     
Wand to direct.</tw-passagedata><tw-passagedata pid="35" name="Back from Mystic" tags="The-Midwife" position="2052,355" size="100,100"># &lt;p style=&quot;color:#800000&quot;&gt;The Midwife&lt;/p&gt;

The Man is finished with his story, you with your tea and his company. What nonsense people speak of these days, the fog must render them thick.

&amp;emsp;“Magic and mysticism is said to be Satan’s work, and therefore none that I believe in. Really, you ought to watch your manners. Thank you again for the tea, I’ll be off.”, you say sternly and stand up to put on your bonnet and shawl.

&amp;emsp;“Heed these words then, if nothing else, ma&#39;am: Evil walks in Whitechapel and you’d do well to remember that and find a way out of the Dark.”

You glare at him, he’s positively mad! Lord help us, this city has gone to ruin. You curtsy and walk quickly out to the street. The fog is humid and sticks to your skin; the density of it only lets you see a couple of meters in front of you. No matter, you know these streets and houses well enough. The next patient is only a stone-throw away and you get going.

[[Continue.-&gt;Back from Mystic 2]]
</tw-passagedata><tw-passagedata pid="36" name="Inventory" tags="inventory" position="3255,48" size="100,100"></tw-passagedata><tw-passagedata pid="37" name="Painter-5" tags="The-Painter" position="1118,594" size="100,100">
You’ve located the coin: now to search for the rest of the items. You know that the chalice and dagger is somewhere around Whitechapel; the journal entries mentions a ‘Lees’, one you’re vaguely familiar with as you run in similar social circles - the bohemian kind. Doesn’t he frequent the gentleman’s club on Berner Street? Let’s go there and ask around.

[[Continue.-&gt;Painter-6]]</tw-passagedata><tw-passagedata pid="38" name="Transition" tags="" position="801,302" size="100,100">
As the Man starts to tell the story, images of a city emerge before your eyes. The interior walls of the pub start to blur, the ground beneath sink, and all goes black and quiet. Suddenly you are somewhere else: there is clamour and noise, heavy breaths in deep-set fog, smells that make one ill. Your bearing is lost, no longer in the familiar public house, yet in a place not wholly alien to you.

&amp;emsp;This is London: the city where the smog lays heavy and the factories and people toil away ceaselessly. Life here is hard and darkness makes its way through the streets and alleyways; it pushes its way into the people and makes them act out of fear, to become irrational.

&amp;emsp;Something in the air makes you feel nervous, the heart starts beating faster and palms sweating. You want to leave but where is there to go? After all, it’s just darkness here. A dim light fades into view after what feels like an eternity, making the room around you perceptible and slowly coming into existence.

[[Continue.-&gt;The Painter]]

</tw-passagedata><tw-passagedata pid="39" name="Raven Row" tags="The-Midwife Pin yes-footer" position="1986,675" size="100,100">

You find yourself in a small street in a district that once was a hub for weavers and silk traders. This street in particular, you remember, used to house such shops. The shop fronts of No 3 and 4 look the same, but now house a cigar maker’s shop named “Wilks. I.S &amp; Co.” and a grocery shop.

[[Go to the cigar shop.-&gt;Cigar shop]]

[[Go to the grocery shop.-&gt;Grocery shop]]</tw-passagedata><tw-passagedata pid="40" name="Cigar shop" tags="The-Midwife" position="2081,791" size="100,100">
You walk up to No 4 and see a note in its door window: “Closed”. You peer into the shop: no light, no movement but plenty of cigars.

[[Go to the grocery shop.-&gt;Grocery shop]]
</tw-passagedata><tw-passagedata pid="41" name="Grocery shop" tags="The-Midwife" position="1900,796" size="100,100">

At No 3, the grocery shop is hectic with people going in and out of the shop. You squeeze past and enter the shop. A man stands behind a counter, talking to one of his customers. 

[[Talk to the grocer.-&gt;Talk to grocer]]

</tw-passagedata><tw-passagedata pid="42" name="Talk to grocer" tags="The-Midwife" position="1900,946" size="100,100">You wait until the customer leaves and then walk up to the counter. The man presents himself as Cornelius Barham and is most polite. You exchange pleasantries and he then asks what you’ll have. You clear your throat and explain that you’re looking for something. “Ey?”, he replies and you answer that, maybe, a man might have dropped something off here? Mr. Barham looks around the shop, looks at you, leans closer and asks:

“What says the Raven?”

[[Nevermore.-&gt;Right answer]]

[[Kraa?-&gt;Wrong answer]]

</tw-passagedata><tw-passagedata pid="43" name="Right answer" tags="The-Midwife" position="1825,1096" size="100,100">Mr. Barham nods and moves behind a drapery to a back room, he returns with an envelope in hand and gives it to you. He doesn’t seem keen on talking to you anymore, so you make your way out of the shop. 

[[Continue.-&gt;Outside of shop]]
</tw-passagedata><tw-passagedata pid="44" name="Wrong answer" tags="The-Midwife" position="1975,1096" size="100,100">Mr. Barham stares at you and then shakes his head.

&amp;emsp;“Ye kiddin’ wit’ me? Ah, ye must be. ‘Old on, I’ll grab it for ye.”

He goes behind a drapery and comes back with an envelope.

[[Continue.-&gt;Outside of shop]]</tw-passagedata><tw-passagedata pid="45" name="Outside of shop" tags="The-Midwife" position="1896,1210" size="100,100">Outside on the street, you open the envelope and take out the paper that is in it. Another poem, another riddle, is written on the piece of paper:

&lt;p style=&quot;text-align:center&quot;&gt;He clasps the crag with crooked hands;

&lt;p style=&quot;text-align:center&quot;&gt;Close to the sun in lonely lands,

&lt;p style=&quot;text-align:center&quot;&gt;Ring&#39;d with the &lt;s&gt;azure&lt;/s&gt; world, he stands.           &amp;emsp;&amp;emsp; &lt;i&gt;Black&lt;/i&gt;

&lt;p style=&quot;text-align:center&quot;&gt;The wrinkled sea beneath him crawls;

&lt;p style=&quot;text-align:center&quot;&gt;He watches from his mountain walls,

&lt;p style=&quot;text-align:center&quot;&gt;And like a thunderbolt he falls.&lt;/p&gt;

You put the paper in the journal so as not to lose it. The next clue must lead to a place in a close vicinity.

[[Continue.-&gt;Map]]
</tw-passagedata><tw-passagedata pid="46" name="Dorset Street" tags="The-Midwife Pin" position="1904,1423" size="100,100">People hang around and stand along the houses of Dorset Street. You walk on the pavement and see a woman in front of you: she looks very pale and weak. 

[[Speak with her.-&gt;Speak with Annie]]

[[Continue the search.-&gt;Map]]

</tw-passagedata><tw-passagedata pid="47" name="Speak with Annie" tags="The-Midwife" position="1904,1540" size="100,100">&amp;emsp;“Are you alright? I’m a midwife, y’see, and can have a look at you - if you’d like.”

&amp;emsp;“No… I’ve just been… at the infirmary”, she replies with great effort.

&amp;emsp;“Can I help you anywhere? Home? Or there’s a pub just around the corner where you can have a seat.”

&amp;emsp;“No… I’m too ill to do anything at the moment. Thank you, ma&#39;am.”

She looks like she wants to be left alone; you give her a gentle pat on the shoulder and [[walk away.-&gt;Map]]

</tw-passagedata><tw-passagedata pid="48" name="Map" tags="" position="2405,1404" size="100,100">

&lt;ritual-map current=&quot;&lt;%= s.currentLoc %&gt;&quot;&gt;
&lt;img src=&quot;img/map.jpg&quot; width=&quot;1280&quot; height=&quot;792&quot;&gt;
&lt;span class=&quot;ritual-map-position&quot;&gt;You are here&lt;/span&gt;

[[St Mary]]{data-x: 53, data-y: 55}
[[Raven Row]]{data-x: 21, data-y: 34}
[[Black Eagle Street]]{data-x: 38, data-y: 6}
[[Finch Street]]{data-x: 50, data-y: 43}
[[Christ Church]]{data-x: 35, data-y: 29}
[[Hanbury Street]]{data-x: 33, data-y: 12}
[[The Mystic&#39;s House]]{data-x: 43, data-y: 94}
[[Dorset Street]]{data-x: 26, data-y: 31}
[[Dutfield&#39;s Yard]]{data-x: 65, data-y: 83}
[[Buck&#39;s Row]]{data-x: 84, data-y: 18}
[[Mitre Square]]{data-x: 16, data-y: 83}
[[George Yard]]{data-x: 44, data-y: 61}
[[Eliot Smith &amp; Sons Pawnshop]]{data-x: 61, data-y: 70}
[[George’s Curiosities]]{data-x: 30, data-y: 50}
[[Wilson&#39;s Pawnshop]]{data-x: 33, data-y: 66}
[[Goulston Street]]{data-x: 25, data-y: 75}


&lt;% if(window.Utils.hasVisited(&quot;Raven Row&quot;)){ %&gt;
[[Black Eagle Street]]{data-x: 38, data-y: 6}
&lt;% } %&gt;
&lt;/ritual-map&gt;
</tw-passagedata><tw-passagedata pid="49" name="Black Eagle Street" tags="The-Midwife Pin" position="1900,1659" size="100,100">Your senses are pricked as you turn into Black Eagle Street: there is a residue of dark fog that still linger above the paved bricks and you feel a pressing feeling of time running out. You look around the street and see the sign of “Black Eagle Brewery”, the only place open, and walk towards it. As you get near the brewery’s front windows, you see a large shadow looming over you in its reflection. Quickly, you enter and a woman is inside who stares through the window in bewilderment. She then turns to you.

&amp;emsp;“Fog’s turns weirder by the minute,” says the woman while looking at you intently. You don’t know what to say, and so, [[she continues.-&gt;BES 1]]

</tw-passagedata><tw-passagedata pid="50" name="BES 1" tags="The-Midwife" position="1897,1776" size="100,100">&amp;emsp;“Once, in another country at another time, a black mist laid upon the harvest and all crops withered and died. Days grew darker, women went missing and an alien figure appeared in the midst of it. Our wise one chalked all doors to keep the Evil out and eventually, it left. Now, fog’s turned weird and women gone murdered. I reckon you’ve come here for something.”

You nod, she moves her head in understanding, and speaks.

&amp;emsp;“All birds have meaning to them, even the littlest ones… Can’t say no more, I have work to do and you better be off.”

She goes to open the door and gestures for you to leave.

[[Continue.-&gt;Map]]

</tw-passagedata><tw-passagedata pid="51" name="Finch Street" tags="The-Midwife Pin" position="1837,1901" size="100,100">You’re getting tired now, in your body and in your spirit. What’s all this walking and reading poems good for? Alas, you’re here at Finch Street now. The Raven, the Eagle and the Finch… The dark, the mighty and the free. You stop, close your eyes and start to say prayers with your rosary. You need the Father, the Son and the Holy Spirit more than anything. A commotion in the street interrupts you, three men are shouting drunkenly at each other and a forth one starts to perform and recite a verse:

&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;And there awhile it bode; and if a man

&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;Could touch or see it, he was healed at once,

&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;By faith, of all his ills. But then the times

&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;Grew to such evil that the holy cup

&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;Was caught away to Heaven, and disappeared.


[[Continue.-&gt;Finch Street 1]]
</tw-passagedata><tw-passagedata pid="52" name="Finch Street 1" tags="The-Midwife" position="1951,1900" size="100,100">&amp;emsp;“Shut i-i-it!” yells one of the men to the performer, who then responds,

&amp;emsp;“How are you dregs not inspired by the white spire of Spitalfields? And the genius of Tennyson? Imagine: to drink from the Holy Grail! I shall go to the West End, they appre - *hiccup* - ciate the arts!”

Doesn’t the Man look familiar? Before there’s time to react, he’s gone in a horse cab and you’re left by yourself. The white spire refers to Christ Church and the cup might be about the chalice? It’s a strange coincidence yet something draws you to the church after hearing it.

[[Continue.-&gt;Map]]
</tw-passagedata><tw-passagedata pid="53" name="Christ Church" tags="The-Midwife Pin" position="1900,2007" size="100,100">You stand below the church steps and look up toward its tower. Where to now? Where would one hide a chalice?

[[Go inside the church.-&gt;Inside church]]

[[Walk outside of it.-&gt;Outside church]]

</tw-passagedata><tw-passagedata pid="54" name="Inside church" tags="The-Midwife" position="1803,2154" size="100,100">You walk into the church: the atmosphere is calm and empty of people. You walk in the middle, between the rows of pews, to the front where the altar and Cross is. You’d rather stay here, but know that this is a dead end for your search.

[[Go outside again.-&gt;Outside 2]]

</tw-passagedata><tw-passagedata pid="55" name="Outside church" tags="The-Midwife" position="1984,2154" size="100,100">You walk on the right of the church steps and see an entrance that leads below the church. The crypt! If you were to hide a chalice, this would be the place. 

[[Go into the crypt.-&gt;The Crypt]]
</tw-passagedata><tw-passagedata pid="56" name="Outside 2" tags="The-Midwife" position="1804,2270" size="100,100">When you walk out of the church door, you happen to look to the left of you. Yes! The crypt entrance, that’s where it must be. But as you look out into the street, fog is gradually forming and turning dark; you hurry down the steps and [[enter the crypt.-&gt;The Crypt]]
</tw-passagedata><tw-passagedata pid="57" name="The Crypt" tags="The-Midwife" position="1985,2275" size="100,100">It’s dark in here, so you concentrace on the faint hum that’s been accompanying you ever since the Mystic’s house and let it guide you in this horrid place. It leads you to a wooden crate that has an all-seeing eye drawn on it, the lid opens easily and its contents revealed. It is packed with hay, although something glimmers underneath. You dig it up: the chalice is now in your hands. As you stroke its cool metal surface, the church bells ring. Where did the time go?

You hurry out of the crypt into a wall of darkness outside. The impact is instantaneous: you lose footing and fall down, the chalice rattling on the stone ground. You look up to see a horrid sight: a black figure with inhuman shape reaching with its slithering limbs towards you. It seizes control of you and the next thing is only remembered through glimpses.

[[Continue.-&gt;Hanbury Street]]
</tw-passagedata><tw-passagedata pid="58" name="Hanbury Street" tags="The-Midwife Pin" position="1891,2385" size="100,100">The darkness controls and forces your body through the fog and the streets. At times of regained consciousness you try to fight it, but there is none to be done. The last thing you see is a familiar face - the woman from earlier today. Your mouth speaks, it is not your voice,

&amp;emsp;“You really don’t look well, let me help you now. Will you?” to which she answers [[“Yes.”-&gt;Murder 1]]

</tw-passagedata><tw-passagedata pid="59" name="Back 4" tags="Beer-Lady" position="594,604" size="100,100">&amp;emsp;He takes something out of his inner pocket of his coat, a pair of tickets and some money, and hands them to you.

&amp;emsp;“The train leaves from King’s Cross just before noon, it’ll take you to Liverpool. There, a ferry will take you to Dublin and you’ll arrive before midnight.”

You take the tickets and feel the need to get up and move. You don’t know what to say, you just stand and look at the Man. He looks back at you and says, “Godspeed, Mary Jane. May Light guide you.”

[[Continue.-&gt;The End]]
	</tw-passagedata><tw-passagedata pid="60" name="The End" tags="Beer-Lady" position="641,461" size="100,100"># &lt;p style=&quot;color:#800000&quot;&gt;The End&lt;/p&gt;

You sit in a pub at Dublin’s city centre, weary from yesterday’s travels. On the table in front you is today’s newspaper.

[[Read it.-&gt;Newspaper]]
</tw-passagedata><tw-passagedata pid="61" name="Latin translation" tags="Mystic&#39;s-House" position="3138,736" size="100,100">&lt;b&gt;Claude portam, quam aperuisti et primordialem abiecisti, perfice ritum ante ictum mediae noctis. Utere potestate pentaculi cum artefactis magicis adhibitis. Vocationem antiquam dicunt et cantus et sic ritus perficitur.&lt;/b&gt;

“To close the gate that you have opened and to cast away the primordial, perform the ritual before the stroke of midnight. Use the power of the pentacle with the magic artefacts used before. Say the ancient call and chant and thus the rite is completed.”

Coin to pay for passage,    
Dagger to cut,         
Chalice to hold,     
Wand to direct.

[[Continue.-&gt;End of The Mystic&#39;s House]]


</tw-passagedata><tw-passagedata pid="62" name="Eliot Smith &amp; Sons Pawnshop" tags="The-Painter Pin" position="1439,603" size="100,100">You stand outside a dirty shop front, unable to see through the window and its display. Above is a sign with the text “Eliot Smith &amp; Sons Pawnshop” and mounted on a holder are three golden spheres.

Standing in front of the shop, what you painted earlier now makes sense: three spheres for pawnbroker annd anvil and hammer for Smith.

[[Go inside.-&gt;Eliot Smith 1]]</tw-passagedata><tw-passagedata pid="63" name="Paintings Stage 2" tags="The-Painter" position="1485,378" size="100,100">You continue and more details get added to the painting. You take a step back, to get an overview of it, and see buildings on a street. One of the houses has three glowing golden spheres above the door: three spheres have been a symbol for pawnbrokers since the mediaeval ages.

[[Search for the coin.-&gt;Map]]

[[Continue to paint.-&gt; Paintings Stage 3]]</tw-passagedata><tw-passagedata pid="64" name=" Paintings Stage 3" tags="The-Painter" position="1486,490" size="100,100">

More symbols emerge from the painting and in the foreground is an anvil and a hammer. Maybe they&#39;re connected to the place where you’ll find the coin? You can’t continue to paint since it&#39;s gotten too dark in the studio from the thick fog outside, so you decide to go out and [[look for it.-&gt;Map]]</tw-passagedata><tw-passagedata pid="65" name="Wilson&#39;s Pawnshop" tags="The-Painter Pin" position="1437,713" size="100,100">You stand outside a small shop with a small stained widow. Hanging over the door is a sign with three golden orbs and the text “Jebediah Wilson, Pawnbroker.”

The orbs resemble the ones in the painting but there is no anvil and hammer. What do those two mean? Is this the place? 

[[Go inside.-&gt;Wilson&#39;s 1]]

[[Back.-&gt;Map]]
</tw-passagedata><tw-passagedata pid="66" name="Wilson&#39;s 1" tags="The-Painter" position="1550,711" size="100,100">You enter and come into a bustling shop with a dozen patrons haggling and chatting. You wait your turn besides the ragged crowd and at last it is your turn. “Yes, what do you want to sell?”, asks the clerk. You explain that you are looking for an antique coin with a star.

&amp;emsp;“Hmph, that ain’t my kind of business. You should try Smith’s Pawnshop or George’s Curiosities.

[[Back-&gt;Map]]</tw-passagedata><tw-passagedata pid="67" name="George’s Curiosities" tags="Pin The-Painter" position="1440,823" size="100,100">You stand outside of George’s Curiosities, the shop window is filled with all sorts of antiquities and weird items. It looks like the kind of shop where you could find a coin like the one you are seeking.

[[Go inside. -&gt;George&#39;s 1]]

[[Back.-&gt;Map]]
</tw-passagedata><tw-passagedata pid="68" name="George&#39;s 1" tags="The-Painter" position="1551,822" size="100,100">A small old woman sits behind the shopdesk and peers up at you over her glasses. There is a stark odour of incense and fainter smell of… cinnamon. Lovely.

&amp;emsp;“Looking for something in particular? Or just perusing?”, the woman asks you.

&amp;emsp;“Well, yes, as a matter of fact I’m looking for something in particular. Is George in by any chance?”

&amp;emsp;“I’m George, darling.”

&amp;emsp;“Oh, so sorry. Y’see,  I’m on the search for an old coin, perhaps dating back to antiquity or further. It has a star stamped on it.”

&amp;emsp;“No, don’t have any of that sort, “ she stops and thinks for a moment, “one should be wary around such objects; one never knows where they’ve been or where they’re going to end up.” You nod, thank her and leave the shop.

[[Back.-&gt;Map]]
</tw-passagedata><tw-passagedata pid="69" name="Mystic" tags="The-Mystic" position="3902,201" size="100,100">You set out to find the objects necessary to perform the ritual, the contents of an old book serves as your guide on what to collect and how to use them. It doesn’t take long to gather them all and you retreat back to your house at — Street to set up the space. The house has stood here for hundreds of years and was built by your ancestors; placed on top of an old burial ground from when the Romans founded the city. At night you can feel an energy humming in the walls, whispers of untold secrets and long-forgotten wisdom held in otherworldly realms. This will change - you’ll be Aether and bring light to the darkest parts of the human psyche.

[[Continue.-&gt;Mystic 1]]</tw-passagedata><tw-passagedata pid="70" name="Mystic 1" tags="The-Mystic" position="3858,332" size="100,100">The ritual is to be held in your basement, a room with vaulted ceilings, old paintings, books and collections of artefacts and relics; passed down from generations as you come from a long line of druids, seekers and mystics. This will be your time, time to change and to uncover that which lies beyond. It is calling for you: you, you, you. What do &lt;i&gt;they&lt;/i&gt; know? Crowley, Westcott and the others are mere amateurs without any real ambition to gain insight into the human condition and explore the eternity of life.  The room is now ready, you’ve prepared and placed each object in accordance with the manual in the book, and you begin the ceremonial chant. 

[[Continue.-&gt;Pause]]
</tw-passagedata><tw-passagedata pid="71" name="St Mary" tags="The-Midwife Pin" position="1987,512" size="100,100">You run down Osborn Street towards St Mary Matfelon Church, the white chalked church that has given Whitechapel its name. Around you the fog starts to turn from liquid gray to pitch black and you can feel a heavy pull behind you. Self-preservation sets in and you bolt towards the doors of the church and slam them shut behind you.

You take a seat in the pews to catch your breath and think of your strange meeting this morning. Was the Man an ill omen or a messenger to forewarn you? Was &lt;i&gt;he&lt;/i&gt; that Erebos creature? Most unregular, the whole thing. You look at the Cross and say a prayer; somehow a Devil has marked you and you’ll have to work against it. The church door opens by an old woman and you see that the fog has cleared outside. Now you &lt;i&gt;do&lt;/i&gt; have questions and decide to look for the man who performed the ritual and get some answers.

[[Continue.-&gt;Map]]</tw-passagedata><tw-passagedata pid="72" name="Buck&#39;s Row" tags="Pin" position="200,898" size="100,100">

You’re at Buck’s Row, a dark narrow street where the only source of light is from a single gas lamp at the far end of the street. It doesn’t illuminate the surroundings, if anything, it makes everything look all the darker. If memory serves you right, a murder happened here, not so long ago, but they never caught the killer. The shadow cast from the lamp starts to expand and move across the brick walls; you shudder and quickly leave.

[[Continue.-&gt;Map]]</tw-passagedata><tw-passagedata pid="73" name="Dutfield&#39;s Yard" tags="Pin The-Painter" position="198,1006" size="100,100">When you’ve reached the junction of Berner Street and Fairclough Street, a warm and sticky wind blows in your neck. Turning around, the street blackens as a large blanket of darkness gradually swallows the gas lamps’ light. You can sense something coming. You should run but can’t leave the woman there, so you sprint into the unknown, making your way to where she stood. It’s hard to see and suddenly you’re violently knocked down. You hit the pavement, roll over on your back and see a dreadful figure by your feet…


[[Continue-&gt;Murder 2]]</tw-passagedata><tw-passagedata pid="74" name="Mitre Square" tags="Pin The-Painter" position="198,1114" size="100,100">There is a battle between two wills: yours and that of the primordial possessor. In and out darkness you go, memory redacted at certain intervals. At one point you come to, for just mere seconds, and in front of you is a woman wearing a black bonnet with her hand against your chest. You try to talk, to scream, anything, but darkness overtakes you again.

[[Continue-&gt;Murder 3]]</tw-passagedata><tw-passagedata pid="75" name="George Yard" tags="Pin" position="199,1224" size="100,100">You’re at George Yard and from where you’re standing, you can see the spire of Christ Church. A recollection of a murder that happened here enters your mind and you feel uneased by the thought of it, so you leave.

[[Continue.-&gt;Map]]</tw-passagedata><tw-passagedata pid="76" name="Goulston Street" tags="Pin The-Painter" position="201,1335" size="100,100">
An old vagrant man sits in a doorway to the Wentworth Dwellings, looking at people as they walk past. His gaze meets yours, “Look a little lost, can I ‘elp you?”. Blows his nose with a dirty cloth and waits for you to answer.

&amp;emsp;“Not really, I’m looking for somethin’ rather. You don’t happen to know of any pawnbrokers that deal in antiquities around here?”

&amp;emsp;“I do… You’d ought to go to Eliot Smith: we had a drink last night and he talked of how a coin in his possession caused plenty of misfortune. The cat died, y’see… Most unpleasant.”

&amp;emsp;[[“Oh, I see… Thank you.”-&gt;Map]]
</tw-passagedata><tw-passagedata pid="77" name="Painter-6" tags="The-Painter" position="1119,705" size="100,100">Walking from the pawnbroker, you hear the church bell toll. Its chimes seem to echo over the rooftops and you quicken your steps. Turning the corner to Berner Street, you dash into a man who looks frightened. He shoots you a glance and then disappears around the corner.

Further up ahead a woman stands by the entrance of an alleyway and as you get nearer, she directs her attention at you, waves you over and says,

&amp;emsp;“Bunch of wussies, some are. Scared of the dark… Bet you’re not, love?”

You reply that there’ve been weird things of late, perhaps it’d be best to stay in? The woman sighs.

&amp;emsp;“No. Not tonight. Some other night. Money needs earning.” You say goodbye and keep on walking.

[[Continue.-&gt;Dutfield&#39;s Yard]]</tw-passagedata><tw-passagedata pid="78" name="Title Screen" tags="" position="279,151" size="100,100"># The Ritual

---

– a text-based interactive story inspired by the storyworld of Jack the Ripper and Gothic Fiction.



by

Sofia Jonsson &amp; Victor Baquero Wihlborg


[[Play-&gt;Start]]</tw-passagedata><tw-passagedata pid="79" name="dagger" tags="inventory" position="3254,163" size="100,100">## Dagger

A ceremonial dagger with a curved handle made of lapis lazuli and blade of gold. The blade of the dagger is inscribed with an image of some god-like creature and enclosed in an ornamental scabbard. It looks very old.</tw-passagedata><tw-passagedata pid="80" name="chalice" tags="inventory" position="3369,165" size="100,100">## Chalice

A brass chalice with decorations of stones and engravings on it.</tw-passagedata><tw-passagedata pid="81" name="coin" tags="inventory" position="3253,278" size="100,100">## Coin

An ancient coin with a pentacle imprinted on it. The metal is not pure gold or silver, might be electrum.</tw-passagedata><tw-passagedata pid="82" name="wand" tags="inventory" position="3366,280" size="100,100">## Wand

A wand made of yew tree.</tw-passagedata><tw-passagedata pid="83" name="Basement 3" tags="Mystic&#39;s-House" position="3139,593" size="100,100">You see a book on a table nearby and go to pick it up. The cover looks very old, to a near point of crumbling apart, and on the first page it says, &lt;i&gt;The Rite and Rise of Erebos&lt;/i&gt; in fine handwriting. You turn the pages of the book and realise that it’s a &lt;i&gt;vade mecum&lt;/i&gt;, a guide, on what to collect in order to perform a ritual.

You find parchment, stuck between the pages, entitled &lt;i&gt;The Ritual&lt;/i&gt;. It is written in Latin, you can’t understand what it says, except at one part where someone has scrawled symbols and written a translation.

[[Read it.-&gt;Latin translation]]</tw-passagedata><tw-passagedata pid="84" name="End of The Mystic&#39;s House" tags="" position="3145,1302" size="100,100">
You’ll need four artefacts enclosed within a circle of a five-pointed star: a pentagram. While standing in it you’ll need to recite an old Sumerian chant which is written down for you- all before the bell strikes twelve today. In your possession is already the dagger, and the journal seems to hold clues to find the rest: maybe start with the chalice? You walk out of the house to find it.

[[Continue.-&gt;Map]]</tw-passagedata><tw-passagedata pid="85" name="key" tags="inventory" position="3369,51" size="100,100">## Key

A key to the basement in the Mystic’s House.
</tw-passagedata><tw-passagedata pid="86" name="Back 2" tags="Beer-Lady" position="360,463" size="100,100">&amp;emsp;“Evil comes in many shapes to trick us… Deception and distortion. It may begin within us - as is my story. I’ve doomed myself to wander an eternity, but I’ll fight the Dark on my journey. I’m soon not Man anymore.” At this his eyes look pitch-black, the dust particles in the air hover and tremble around him and you shiver in silence.

&amp;emsp;“I’ve been in another realm and seen what shouldn’t be seen. Evil is not one thing and too complex to fathom: it’s chaos. I’ve inadvertently cursed others and tried to forewarn them, to revert its process. But there is no being ahead of time when that which you face has been &lt;i&gt;since&lt;/i&gt; the dawn of time.”

&amp;emsp;“I may not understand all you speak of, aye, but I’m no fool. It’ll come for me now, won’t it?”

[[Continue.-&gt;Back 3]]</tw-passagedata><tw-passagedata pid="87" name="Back 3" tags="Beer-Lady" position="407,603" size="100,100">&amp;emsp;“Yes but there exists an opening for escape: I found it within its realm, in an old script, after much tribulation. At first I thought that the ritual would subvert its powers and force it back. Alas, it didn’t work, it knew our steps before we took them. However, Erebos is tied to the time and place which it was called to. You’ll need to go back to Ireland, her land hold powers which prevent it from following you, and I’ll have to keep it, or him, at bay: it’s not long till… a new time and era begins.”

[[Continue.-&gt;Back 4]]</tw-passagedata><tw-passagedata pid="88" name="Newspaper" tags="" position="803,458" size="100,100">&lt;p&gt;&lt;b&gt;Irish Times&lt;/p&gt;
&lt;p&gt;Dublin, Ireland&lt;/p&gt;
&lt;p&gt;Saturday, 10 November 1888 &lt;/b&gt;&lt;/p&gt; 

&lt;p style=&quot;text-align:center&quot;&gt;SHOCKING MURDER IN WHITECHAPEL

&lt;p style=&quot;text-align:center&quot;&gt;DECAPITATION AND MUTILATION OF THE VICTIM

&lt;p style=&quot;text-align:center&quot;&gt;(SPECIAL TELEGRAM)&lt;/p&gt;

&lt;p style=&quot;text-align:right&quot;&gt;&lt;b&gt;LONDON, FRIDAY&lt;/b&gt;&lt;p&gt;

This morning, in the midst of the popular demonstration connected with the Lord Mayor&#39;s Show, the tens of thousands of persons who had assembled along the line of route from the City to the West End to watch the civic pageant pass were startled and horrified by the hoarse cries of the street newspaper hawkers announcing the perpetration of another terrible murder in Whitechapel. The news received speedy confirmation, and even the meagre particulars immediately obtainable left no doubt that this, the latest of the series of crimes which has for months past kept the East of London in a state of fear almost amounting to panic, exceeded in its cold-blooded fiendish atrocity any that have preceded it. In the details of the murder itself there is unhappily little that can be described as novel - the same mournful story of want, immorality, and inhuman crime, but in one most important circumstance the murder differs in a startling manner from all that have gone before it. It was committed not in the open air, but in a house, into which the murderer had been taken by his too willing victim. The scene of the murder is Miller court, Dorset street, Commercial street, a district composed of big warehouses, squalid streets, and in a striking degree of registered lodging-houses.

&lt;p style=&quot;text-align:center&quot;&gt;...&lt;/p&gt;

The murder was committed at No 2 Miller court, some time after midnight. The murdered woman is not particularly well known even to her neighbours. As is customary among people of her class, she had several nicknames, including &quot;Mary Jane,&quot; and &quot;Fair Emma,&quot; but the name by which she was known to her landlord, and which has proved to be correct, was Mary Jane Kelly. She had been married for some years, or at any rate had lived regularly with a man named Kelly. But it is known that she went on the streets irregularly at first; but after separating from her husband, chiefly on account of her drunken habits and quarrelsome disposition, she took to prostitution as a regular means of living. Almost the only friend she is known to have had was a woman named Harvey, who used to sleep with her occasionally.

&lt;p style=&quot;text-align:center&quot;&gt;...&lt;/p

[[Credits.-&gt;Credits]]</tw-passagedata><tw-passagedata pid="89" name="The Mystic" tags="The-Mystic" position="4056,106" size="100,100"># &lt;p style=&quot;color:#800000&quot;&gt;The Mystic&lt;/p&gt;

After a spiritualist meeting last week, you decided to take matters into your own hands. Those charlatans will never be able to reach the higher plane of knowledge as their intentions and interests are too egotistical in nature. After devouring book after book in the hidden sections of libraries, you know what needs to be done.

[[Continue.-&gt;Mystic]]</tw-passagedata><tw-passagedata pid="90" name="Paint after Pub" tags="The-Painter" position="1484,151" size="100,100">
You&#39;re back home and begin to paint: an abstract scene of London comes to form on the canvas. You sense life on the street although the image of it is blurry and unfinished. There is something more prominent in the centre of the painting: a coin. An antique coin with a pentagram on it. Like the one the Mystic used for the ritual? You get an eerie feeling that it is precisely the same one as the Mystic used...

[[Continue.-&gt;Paintings Stage 2]]</tw-passagedata><tw-passagedata pid="91" name="Eliot Smith 1" tags="The-Painter" position="1553,601" size="100,100">You walk up to the door, open it and is met by an old haggard man that wheezes, “‘Ow can I ‘elp you?”. As you explain about the particular coin, he darts back behind a counter and practically throws the coin at you.

&amp;emsp;“Take it! Nothin’ but wickedness it brings! Shoo, off wit’ you!”.

[[Continue.-&gt;Painter-5]]</tw-passagedata><tw-passagedata pid="92" name="At the Pub 1" tags="The-Painter" position="1120,365" size="100,100">
It’s a short walk to the public house, it&#39;s early morning and the drunks have yet to wake up. A dim light and a fog hovers over the streets, “Strange” you think to yourself, “It was sunshine in the studio just minutes ago”. But this year has been weird and unusually dark in London. As you enter the pub, a well-dressed man at the bar catches your attention. Also strange, not a  place for a gentleman. You make your way forward, place your order with a worn-out barkeep, and as you reach into your pockets for money, you realise that they’re empty. The gentleman leans over and says,

&amp;emsp;“Please, let me. It’d be my pleasure.” You try to interject, but he swiftly pays and turns to you.

[[Continue.-&gt;At the Pub 2]]</tw-passagedata><tw-passagedata pid="93" name="Midwife 2" tags="The-Midwife" position="2049,133" size="100,100">When you arrive, the woman is already in labour and there is little time for you to prepare. You get your things in order and briskly start to assist with the birth. Something isn’t right; you send her youngest daughter out to fetch help and she returns with a gentleman in tow. The pitch of the birthing mother’s scream drowns out and suddenly you feel awkward: doesn’t the room feel a little bit heavier just now? Lord help us.

&amp;emsp;“You needn’t worry, ma’am. I’m quite capable of assisting you, let me get my coat off.”

Together you and the Man work tirelessly until the mother rests with a healthy baby against her chest.

[[Continue.-&gt;Midwife 3]]
</tw-passagedata><tw-passagedata pid="94" name="Midwife 3" tags="The-Midwife" position="1918,243" size="100,100">&amp;emsp;“Many thanks, sir. You came in the nick of time, these women are undernourished and have little strength, some need an extra eye on’em.”

&amp;emsp;“It was my pleasure, the cycle of life is a beautiful thing. Chaotic but full of endless possibilities: today a birth, tomorrow a death.”

That’s an odd thing to say, you think to yourself, but in your experience doctors can be eccentric men. You simply nod in reply, gather your things and clean up - a pop by the coffee house for a cup would do well now. As if the Man has heard you thoughts, he says,

&amp;emsp;“Might I offer to buy you a cup of tea down the road, perhaps needed after this ordeal?”

&amp;emsp;[[“That’d do well, sir. Thank you.”-&gt;Midwife 4]]
</tw-passagedata><tw-passagedata pid="95" name="Midwife 4" tags="The-Midwife" position="2051,243" size="100,100">The coffee house is empty of guests at this time of day: they’re either working or still dealing with the effects of last night’s drink. The two of you sit by the front window, the proprietor comes and prepares the tea by your table. You feel uneased, to be in company with a man, and such a gentleman at that.

&amp;emsp;“I’ll be quick with my tea, sir. The day is only starting, and the rounds need going.”

&amp;emsp;“Of course, a Midwife’s work is never finished”, he answers and looks at your rosary, “You no doubt have a large flock to tend to here.”

You give him a look of acknowledgment and continue to drink your tea. Outside of the window, the street is darkened by that hideous fog that has been pestering the city for a while now.

&amp;emsp;“Say, perhaps you’d be inclined to hear a story? It’s only a short one, you&#39;ll go about your day in no time.”

You reluctantly say yes, take a sip and look out the window as he starts to tell the story.

[[Continue.-&gt;Transition 2]] 
</tw-passagedata><tw-passagedata pid="96" name="Pause" tags="The-Mystic" position="3956,469" size="100,100">Silence.




[[Is this the end? -&gt;Pause 2]]</tw-passagedata><tw-passagedata pid="97" name="Pause 2" tags="The-Mystic" position="4136,469" size="100,100">[[No.-&gt;Mystic 2]]</tw-passagedata><tw-passagedata pid="98" name="Mystic 2" tags="The-Mystic" position="4242,329" size="100,100">This is the realm of the Primordials, the domain where Darkness and Night reside. How naive to think you could handle what is now in front of you. Ancient hidden knowledge is not gained through a simple rite, it is fought for again and again. The way is laid open and what was kept inside was for a reason: Pain, Deception, Mourning, Oath and Chaos lingers there.

A black mist creeps out of the gateway and fills the room; you stand still where you are. Seconds go by and then a figure appears: a figure morphing to a man. Do your senses deceive you? No, he is really there.

[[Continue.-&gt;Mystic 3]] </tw-passagedata><tw-passagedata pid="99" name="Mystic 3" tags="The-Mystic" position="4189,199" size="100,100">&amp;emsp;“Who are you?”, you stutter.

The basement walls vibrate and the hums that once soothed you now makes your panic. The voice which emanates from the man comes before the mouth moves, a dissonance between the two. His voice is not human.

&amp;emsp;[[“I am. Erebos.”-&gt;Back from Mystic]]
</tw-passagedata><tw-passagedata pid="100" name="Transition 1" tags="" position="1728,91" size="100,100">As the Man starts to talk, a shift in the room occurs; your feet are no longer planted onto the floor below and your senses are displaced into a space of thick murk. The dark and heavy mist disperses successively and the surroundings become clearer bit by bit.

[[Continue.-&gt;The Midwife]]</tw-passagedata><tw-passagedata pid="101" name="Back from Mystic 2" tags="The-Midwife" position="1920,353" size="100,100">As you walk, a feeling of unease seeps into your bones, like if you were being followed. There is no one in sight. Yet there is a strong sense that something is indeed present behind you - you turn around and a black shape is forming in the fog. Your body moves before your mind can register the danger you’re in and begins to run.

[[Continue.-&gt;St Mary]] </tw-passagedata><tw-passagedata pid="102" name="Transition 2" tags="" position="2415,82" size="100,100">Darkness and fog, things shift and lose resemblance to the place where you were. No time passes and yet all has changed; you’re in a strange house, preparing for something.


[[Continue.-&gt;The Mystic]]</tw-passagedata><tw-passagedata pid="103" name="Credits" tags="" position="930,460" size="100,100">

&lt;p style=&quot;text-align:center&quot;&gt;&lt;b&gt;Thank you for reading our story, we hope you liked it.&lt;/b&gt;&lt;/p&gt;

&lt;p style=&quot;font-size:14px;text-align: center&quot;;&gt;
&lt;i&gt;I had a dream, which was not all a dream.
&lt;p style=&quot;font-size:14px;text-align: center&quot;;&gt;
The bright sun was extinguish&#39;d, and the stars
&lt;p style=&quot;font-size:14px;text-align: center&quot;;&gt;
Did wander darkling in the eternal space,
&lt;p style=&quot;font-size:14px;text-align: center&quot;;&gt;
Rayless, and pathless, and the icy earth
&lt;p style=&quot;font-size:14px;text-align: center&quot;;&gt;
Swung blind and blackening in the moonless air;
&lt;p style=&quot;font-size:14px;text-align: center&quot;;&gt;
Morn came and went—and came, and brought no day&lt;/i&gt;
&lt;p style=&quot;font-size:14px;text-align: center&quot;;&gt;
&quot;Darkness&quot; by Lord Byron.&lt;/p&gt;

Poems served as inspiration during the making of this project and used in the story:

&quot;The Raven&quot; by Edgar Allan Poe, 1845.

&quot;The Eagle&quot; by Alfred, Lord Tennyson, 1851.

&quot;The Holy Grail&quot; from &lt;i&gt;Idylls of the King&lt;/i&gt; by Alfred, Lord Tennyson, 1859--1885.

&quot;The Human Abstract&quot; from &lt;i&gt;Songs Of Experience&lt;/i&gt; by William Blake, 1794.



</tw-passagedata><tw-passagedata pid="104" name="Murder 1" tags="" position="2059,2419" size="100,100">&lt;%= randomSplat() %&gt;

[[Continue-&gt;Back at the Pub]]</tw-passagedata><tw-passagedata pid="105" name="Murder 2" tags="murder" position="401,1033" size="100,100">&lt;%= randomSplat() %&gt;

[[Continue-&gt;Mitre Square]]</tw-passagedata><tw-passagedata pid="106" name="Murder 3" tags="murder" position="394,1149" size="100,100">&lt;%= randomSplat() %&gt;

[[Continue-&gt;Back from Other Stories]]</tw-passagedata></tw-storydata>
    </main>
    <script>
      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var root=require("./_root"),Symbol=root.Symbol;module.exports=Symbol;

},{"./_root":47}],2:[function(require,module,exports){
function apply(l,e,a){switch(a.length){case 0:return l.call(e);case 1:return l.call(e,a[0]);case 2:return l.call(e,a[0],a[1]);case 3:return l.call(e,a[0],a[1],a[2])}return l.apply(e,a)}module.exports=apply;

},{}],3:[function(require,module,exports){
var baseTimes=require("./_baseTimes"),isArguments=require("./isArguments"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isIndex=require("./_isIndex"),isTypedArray=require("./isTypedArray"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(e,r){var s=isArray(e),i=!s&&isArguments(e),t=!s&&!i&&isBuffer(e),a=!s&&!i&&!t&&isTypedArray(e),n=s||i||t||a,y=n?baseTimes(e.length,String):[],u=y.length;for(var o in e)!r&&!hasOwnProperty.call(e,o)||n&&("length"==o||t&&("offset"==o||"parent"==o)||a&&("buffer"==o||"byteLength"==o||"byteOffset"==o)||isIndex(o,u))||y.push(o);return y}module.exports=arrayLikeKeys;

},{"./_baseTimes":17,"./_isIndex":34,"./isArguments":59,"./isArray":60,"./isBuffer":62,"./isTypedArray":72}],4:[function(require,module,exports){
function arrayMap(r,a){for(var n=-1,e=null==r?0:r.length,l=Array(e);++n<e;)l[n]=a(r[n],n,r);return l}module.exports=arrayMap;

},{}],5:[function(require,module,exports){
var baseAssignValue=require("./_baseAssignValue"),eq=require("./eq"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function assignValue(e,s,a){var r=e[s];hasOwnProperty.call(e,s)&&eq(r,a)&&(void 0!==a||s in e)||baseAssignValue(e,s,a)}module.exports=assignValue;

},{"./_baseAssignValue":6,"./eq":56}],6:[function(require,module,exports){
var defineProperty=require("./_defineProperty");function baseAssignValue(e,r,i){"__proto__"==r&&defineProperty?defineProperty(e,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[r]=i}module.exports=baseAssignValue;

},{"./_defineProperty":26}],7:[function(require,module,exports){
var Symbol=require("./_Symbol"),getRawTag=require("./_getRawTag"),objectToString=require("./_objectToString"),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}module.exports=baseGetTag;

},{"./_Symbol":1,"./_getRawTag":32,"./_objectToString":41}],8:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag}module.exports=baseIsArguments;

},{"./_baseGetTag":7,"./isObjectLike":68}],9:[function(require,module,exports){
var isFunction=require("./isFunction"),isMasked=require("./_isMasked"),isObject=require("./isObject"),toSource=require("./_toSource"),reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}module.exports=baseIsNative;

},{"./_isMasked":36,"./_toSource":50,"./isFunction":64,"./isObject":67}],10:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isLength=require("./isLength"),isObjectLike=require("./isObjectLike"),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[baseGetTag(a)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1,module.exports=baseIsTypedArray;

},{"./_baseGetTag":7,"./isLength":65,"./isObjectLike":68}],11:[function(require,module,exports){
var isPrototype=require("./_isPrototype"),nativeKeys=require("./_nativeKeys"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var r=[];for(var t in Object(e))hasOwnProperty.call(e,t)&&"constructor"!=t&&r.push(t);return r}module.exports=baseKeys;

},{"./_isPrototype":37,"./_nativeKeys":38}],12:[function(require,module,exports){
var isObject=require("./isObject"),isPrototype=require("./_isPrototype"),nativeKeysIn=require("./_nativeKeysIn"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var r=isPrototype(e),t=[];for(var o in e)("constructor"!=o||!r&&hasOwnProperty.call(e,o))&&t.push(o);return t}module.exports=baseKeysIn;

},{"./_isPrototype":37,"./_nativeKeysIn":39,"./isObject":67}],13:[function(require,module,exports){
function basePropertyOf(r){return function(e){return null==r?void 0:r[e]}}module.exports=basePropertyOf;

},{}],14:[function(require,module,exports){
var nativeFloor=Math.floor,nativeRandom=Math.random;function baseRandom(a,o){return a+nativeFloor(nativeRandom()*(o-a+1))}module.exports=baseRandom;

},{}],15:[function(require,module,exports){
var identity=require("./identity"),overRest=require("./_overRest"),setToString=require("./_setToString");function baseRest(e,t){return setToString(overRest(e,t,identity),e+"")}module.exports=baseRest;

},{"./_overRest":43,"./_setToString":48,"./identity":58}],16:[function(require,module,exports){
var constant=require("./constant"),defineProperty=require("./_defineProperty"),identity=require("./identity"),baseSetToString=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity;module.exports=baseSetToString;

},{"./_defineProperty":26,"./constant":55,"./identity":58}],17:[function(require,module,exports){
function baseTimes(e,r){for(var s=-1,a=Array(e);++s<e;)a[s]=r(s);return a}module.exports=baseTimes;

},{}],18:[function(require,module,exports){
var Symbol=require("./_Symbol"),arrayMap=require("./_arrayMap"),isArray=require("./isArray"),isSymbol=require("./isSymbol"),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(r){if("string"==typeof r)return r;if(isArray(r))return arrayMap(r,baseToString)+"";if(isSymbol(r))return symbolToString?symbolToString.call(r):"";var o=r+"";return"0"==o&&1/r==-INFINITY?"-0":o}module.exports=baseToString;

},{"./_Symbol":1,"./_arrayMap":4,"./isArray":60,"./isSymbol":71}],19:[function(require,module,exports){
var trimmedEndIndex=require("./_trimmedEndIndex"),reTrimStart=/^\s+/;function baseTrim(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,""):e}module.exports=baseTrim;

},{"./_trimmedEndIndex":51}],20:[function(require,module,exports){
function baseUnary(n){return function(r){return n(r)}}module.exports=baseUnary;

},{}],21:[function(require,module,exports){
var arrayMap=require("./_arrayMap");function baseValues(a,r){return arrayMap(r,function(r){return a[r]})}module.exports=baseValues;

},{"./_arrayMap":4}],22:[function(require,module,exports){
var assignValue=require("./_assignValue"),baseAssignValue=require("./_baseAssignValue");function copyObject(e,a,s,r){var i=!s;s||(s={});for(var u=-1,n=a.length;++u<n;){var l=a[u],o=r?r(s[l],e[l],l,s,e):void 0;void 0===o&&(o=e[l]),i?baseAssignValue(s,l,o):assignValue(s,l,o)}return s}module.exports=copyObject;

},{"./_assignValue":5,"./_baseAssignValue":6}],23:[function(require,module,exports){
var root=require("./_root"),coreJsData=root["__core-js_shared__"];module.exports=coreJsData;

},{"./_root":47}],24:[function(require,module,exports){
var baseRest=require("./_baseRest"),isIterateeCall=require("./_isIterateeCall");function createAssigner(e){return baseRest(function(t,r){var a=-1,i=r.length,s=i>1?r[i-1]:void 0,n=i>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,n&&isIterateeCall(r[0],r[1],n)&&(s=i<3?void 0:s,i=1),t=Object(t);++a<i;){var o=r[a];o&&e(t,o,a,s)}return t})}module.exports=createAssigner;

},{"./_baseRest":15,"./_isIterateeCall":35}],25:[function(require,module,exports){
var eq=require("./eq"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function customDefaultsAssignIn(o,t,e,r){return void 0===o||eq(o,objectProto[e])&&!hasOwnProperty.call(r,e)?t:o}module.exports=customDefaultsAssignIn;

},{"./eq":56}],26:[function(require,module,exports){
var getNative=require("./_getNative"),defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();module.exports=defineProperty;

},{"./_getNative":30}],27:[function(require,module,exports){
var basePropertyOf=require("./_basePropertyOf"),htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escapeHtmlChar=basePropertyOf(htmlEscapes);module.exports=escapeHtmlChar;

},{"./_basePropertyOf":13}],28:[function(require,module,exports){
var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function escapeStringChar(r){return"\\"+stringEscapes[r]}module.exports=escapeStringChar;

},{}],29:[function(require,module,exports){
(function (global){(function (){
var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],30:[function(require,module,exports){
var baseIsNative=require("./_baseIsNative"),getValue=require("./_getValue");function getNative(e,a){var t=getValue(e,a);return baseIsNative(t)?t:void 0}module.exports=getNative;

},{"./_baseIsNative":9,"./_getValue":33}],31:[function(require,module,exports){
var overArg=require("./_overArg"),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype;

},{"./_overArg":42}],32:[function(require,module,exports){
var Symbol=require("./_Symbol"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;function getRawTag(t){var o=hasOwnProperty.call(t,symToStringTag),r=t[symToStringTag];try{t[symToStringTag]=void 0;var a=!0}catch(t){}var e=nativeObjectToString.call(t);return a&&(o?t[symToStringTag]=r:delete t[symToStringTag]),e}module.exports=getRawTag;

},{"./_Symbol":1}],33:[function(require,module,exports){
function getValue(e,u){return null==e?void 0:e[u]}module.exports=getValue;

},{}],34:[function(require,module,exports){
var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,n){var r=typeof e;return!!(n=null==n?MAX_SAFE_INTEGER:n)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<n}module.exports=isIndex;

},{}],35:[function(require,module,exports){
var eq=require("./eq"),isArrayLike=require("./isArrayLike"),isIndex=require("./_isIndex"),isObject=require("./isObject");function isIterateeCall(e,r,i){if(!isObject(i))return!1;var t=typeof r;return!!("number"==t?isArrayLike(i)&&isIndex(r,i.length):"string"==t&&r in i)&&eq(i[r],e)}module.exports=isIterateeCall;

},{"./_isIndex":34,"./eq":56,"./isArrayLike":61,"./isObject":67}],36:[function(require,module,exports){
var coreJsData=require("./_coreJsData"),maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}module.exports=isMasked;

},{"./_coreJsData":23}],37:[function(require,module,exports){
var objectProto=Object.prototype;function isPrototype(o){var t=o&&o.constructor;return o===("function"==typeof t&&t.prototype||objectProto)}module.exports=isPrototype;

},{}],38:[function(require,module,exports){
var overArg=require("./_overArg"),nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys;

},{"./_overArg":42}],39:[function(require,module,exports){
function nativeKeysIn(n){var e=[];if(null!=n)for(var r in Object(n))e.push(r);return e}module.exports=nativeKeysIn;

},{}],40:[function(require,module,exports){
var freeGlobal=require("./_freeGlobal"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var e=freeModule&&freeModule.require&&freeModule.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil;

},{"./_freeGlobal":29}],41:[function(require,module,exports){
var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString(t){return nativeObjectToString.call(t)}module.exports=objectToString;

},{}],42:[function(require,module,exports){
function overArg(r,e){return function(n){return r(e(n))}}module.exports=overArg;

},{}],43:[function(require,module,exports){
var apply=require("./_apply"),nativeMax=Math.max;function overRest(r,a,e){return a=nativeMax(void 0===a?r.length-1:a,0),function(){for(var t=arguments,n=-1,o=nativeMax(t.length-a,0),v=Array(o);++n<o;)v[n]=t[a+n];n=-1;for(var i=Array(a+1);++n<a;)i[n]=t[n];return i[a]=e(v),apply(r,this,i)}}module.exports=overRest;

},{"./_apply":2}],44:[function(require,module,exports){
var reEscape=/<%-([\s\S]+?)%>/g;module.exports=reEscape;

},{}],45:[function(require,module,exports){
var reEvaluate=/<%([\s\S]+?)%>/g;module.exports=reEvaluate;

},{}],46:[function(require,module,exports){
var reInterpolate=/<%=([\s\S]+?)%>/g;module.exports=reInterpolate;

},{}],47:[function(require,module,exports){
var freeGlobal=require("./_freeGlobal"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root;

},{"./_freeGlobal":29}],48:[function(require,module,exports){
var baseSetToString=require("./_baseSetToString"),shortOut=require("./_shortOut"),setToString=shortOut(baseSetToString);module.exports=setToString;

},{"./_baseSetToString":16,"./_shortOut":49}],49:[function(require,module,exports){
var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(t){var r=0,e=0;return function(){var n=nativeNow(),o=HOT_SPAN-(n-e);if(e=n,o>0){if(++r>=HOT_COUNT)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}module.exports=shortOut;

},{}],50:[function(require,module,exports){
var funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}module.exports=toSource;

},{}],51:[function(require,module,exports){
var reWhitespace=/\s/;function trimmedEndIndex(e){for(var r=e.length;r--&&reWhitespace.test(e.charAt(r)););return r}module.exports=trimmedEndIndex;

},{}],52:[function(require,module,exports){
var basePropertyOf=require("./_basePropertyOf"),htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},unescapeHtmlChar=basePropertyOf(htmlUnescapes);module.exports=unescapeHtmlChar;

},{"./_basePropertyOf":13}],53:[function(require,module,exports){
var copyObject=require("./_copyObject"),createAssigner=require("./_createAssigner"),keysIn=require("./keysIn"),assignInWith=createAssigner(function(e,r,s,n){copyObject(r,keysIn(r),e,n)});module.exports=assignInWith;

},{"./_copyObject":22,"./_createAssigner":24,"./keysIn":74}],54:[function(require,module,exports){
var apply=require("./_apply"),baseRest=require("./_baseRest"),isError=require("./isError"),attempt=baseRest(function(r,e){try{return apply(r,void 0,e)}catch(r){return isError(r)?r:new Error(r)}});module.exports=attempt;

},{"./_apply":2,"./_baseRest":15,"./isError":63}],55:[function(require,module,exports){
function constant(n){return function(){return n}}module.exports=constant;

},{}],56:[function(require,module,exports){
function eq(e,n){return e===n||e!=e&&n!=n}module.exports=eq;

},{}],57:[function(require,module,exports){
var escapeHtmlChar=require("./_escapeHtmlChar"),toString=require("./toString"),reUnescapedHtml=/[&<>"']/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source);function escape(e){return(e=toString(e))&&reHasUnescapedHtml.test(e)?e.replace(reUnescapedHtml,escapeHtmlChar):e}module.exports=escape;

},{"./_escapeHtmlChar":27,"./toString":81}],58:[function(require,module,exports){
function identity(t){return t}module.exports=identity;

},{}],59:[function(require,module,exports){
var baseIsArguments=require("./_baseIsArguments"),isObjectLike=require("./isObjectLike"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")};module.exports=isArguments;

},{"./_baseIsArguments":8,"./isObjectLike":68}],60:[function(require,module,exports){
var isArray=Array.isArray;module.exports=isArray;

},{}],61:[function(require,module,exports){
var isFunction=require("./isFunction"),isLength=require("./isLength");function isArrayLike(i){return null!=i&&isLength(i.length)&&!isFunction(i)}module.exports=isArrayLike;

},{"./isFunction":64,"./isLength":65}],62:[function(require,module,exports){
var root=require("./_root"),stubFalse=require("./stubFalse"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer;

},{"./_root":47,"./stubFalse":76}],63:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),isPlainObject=require("./isPlainObject"),domExcTag="[object DOMException]",errorTag="[object Error]";function isError(e){if(!isObjectLike(e))return!1;var r=baseGetTag(e);return r==errorTag||r==domExcTag||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject(e)}module.exports=isError;

},{"./_baseGetTag":7,"./isObjectLike":68,"./isPlainObject":69}],64:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isObject=require("./isObject"),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var n=baseGetTag(e);return n==funcTag||n==genTag||n==asyncTag||n==proxyTag}module.exports=isFunction;

},{"./_baseGetTag":7,"./isObject":67}],65:[function(require,module,exports){
var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}module.exports=isLength;

},{}],66:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),numberTag="[object Number]";function isNumber(e){return"number"==typeof e||isObjectLike(e)&&baseGetTag(e)==numberTag}module.exports=isNumber;

},{"./_baseGetTag":7,"./isObjectLike":68}],67:[function(require,module,exports){
function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}module.exports=isObject;

},{}],68:[function(require,module,exports){
function isObjectLike(e){return null!=e&&"object"==typeof e}module.exports=isObjectLike;

},{}],69:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),getPrototype=require("./_getPrototype"),isObjectLike=require("./isObjectLike"),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(t){if(!isObjectLike(t)||baseGetTag(t)!=objectTag)return!1;var e=getPrototype(t);if(null===e)return!0;var o=hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&funcToString.call(o)==objectCtorString}module.exports=isPlainObject;

},{"./_baseGetTag":7,"./_getPrototype":31,"./isObjectLike":68}],70:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isArray=require("./isArray"),isObjectLike=require("./isObjectLike"),stringTag="[object String]";function isString(e){return"string"==typeof e||!isArray(e)&&isObjectLike(e)&&baseGetTag(e)==stringTag}module.exports=isString;

},{"./_baseGetTag":7,"./isArray":60,"./isObjectLike":68}],71:[function(require,module,exports){
var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}module.exports=isSymbol;

},{"./_baseGetTag":7,"./isObjectLike":68}],72:[function(require,module,exports){
var baseIsTypedArray=require("./_baseIsTypedArray"),baseUnary=require("./_baseUnary"),nodeUtil=require("./_nodeUtil"),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray;

},{"./_baseIsTypedArray":10,"./_baseUnary":20,"./_nodeUtil":40}],73:[function(require,module,exports){
var arrayLikeKeys=require("./_arrayLikeKeys"),baseKeys=require("./_baseKeys"),isArrayLike=require("./isArrayLike");function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}module.exports=keys;

},{"./_arrayLikeKeys":3,"./_baseKeys":11,"./isArrayLike":61}],74:[function(require,module,exports){
var arrayLikeKeys=require("./_arrayLikeKeys"),baseKeysIn=require("./_baseKeysIn"),isArrayLike=require("./isArrayLike");function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}module.exports=keysIn;

},{"./_arrayLikeKeys":3,"./_baseKeysIn":12,"./isArrayLike":61}],75:[function(require,module,exports){
var baseRandom=require("./_baseRandom"),isIterateeCall=require("./_isIterateeCall"),toFinite=require("./toFinite"),freeParseFloat=parseFloat,nativeMin=Math.min,nativeRandom=Math.random;function random(e,a,o){if(o&&"boolean"!=typeof o&&isIterateeCall(e,a,o)&&(a=o=void 0),void 0===o&&("boolean"==typeof a?(o=a,a=void 0):"boolean"==typeof e&&(o=e,e=void 0)),void 0===e&&void 0===a?(e=0,a=1):(e=toFinite(e),void 0===a?(a=e,e=0):a=toFinite(a)),e>a){var i=e;e=a,a=i}if(o||e%1||a%1){var t=nativeRandom();return nativeMin(e+t*(a-e+freeParseFloat("1e-"+((t+"").length-1))),a)}return baseRandom(e,a)}module.exports=random;

},{"./_baseRandom":14,"./_isIterateeCall":35,"./toFinite":79}],76:[function(require,module,exports){
function stubFalse(){return!1}module.exports=stubFalse;

},{}],77:[function(require,module,exports){
var assignInWith=require("./assignInWith"),attempt=require("./attempt"),baseValues=require("./_baseValues"),customDefaultsAssignIn=require("./_customDefaultsAssignIn"),escapeStringChar=require("./_escapeStringChar"),isError=require("./isError"),isIterateeCall=require("./_isIterateeCall"),keys=require("./keys"),reInterpolate=require("./_reInterpolate"),templateSettings=require("./templateSettings"),toString=require("./toString"),INVALID_TEMPL_VAR_ERROR_TEXT="Invalid `variable` option passed into `_.template`",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function template(e,r,t){var n=templateSettings.imports._.templateSettings||templateSettings;t&&isIterateeCall(e,r,t)&&(r=void 0),e=toString(e),r=assignInWith({},r,n,customDefaultsAssignIn);var a,i,s=assignInWith({},r.imports,n.imports,customDefaultsAssignIn),o=keys(s),p=baseValues(s,o),l=0,_=r.interpolate||reNoMatch,u="__p += '",c=RegExp((r.escape||reNoMatch).source+"|"+_.source+"|"+(_===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(r.evaluate||reNoMatch).source+"|$","g"),g=hasOwnProperty.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(c,function(r,t,n,s,o,p){return n||(n=s),u+=e.slice(l,p).replace(reUnescapedString,escapeStringChar),t&&(a=!0,u+="' +\n__e("+t+") +\n'"),o&&(i=!0,u+="';\n"+o+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=p+r.length,r}),u+="';\n";var m=hasOwnProperty.call(r,"variable")&&r.variable;if(m){if(reForbiddenIdentifierChars.test(m))throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT)}else u="with (obj) {\n"+u+"\n}\n";u=(i?u.replace(reEmptyStringLeading,""):u).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),u="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var h=attempt(function(){return Function(o,g+"return "+u).apply(void 0,p)});if(h.source=u,isError(h))throw h;return h}module.exports=template;

},{"./_baseValues":21,"./_customDefaultsAssignIn":25,"./_escapeStringChar":28,"./_isIterateeCall":35,"./_reInterpolate":46,"./assignInWith":53,"./attempt":54,"./isError":63,"./keys":73,"./templateSettings":78,"./toString":81}],78:[function(require,module,exports){
var escape=require("./escape"),reEscape=require("./_reEscape"),reEvaluate=require("./_reEvaluate"),reInterpolate=require("./_reInterpolate"),templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:{escape:escape}}};module.exports=templateSettings;

},{"./_reEscape":44,"./_reEvaluate":45,"./_reInterpolate":46,"./escape":57}],79:[function(require,module,exports){
var toNumber=require("./toNumber"),INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308;function toFinite(e){return e?(e=toNumber(e))===INFINITY||e===-INFINITY?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}module.exports=toFinite;

},{"./toNumber":80}],80:[function(require,module,exports){
var baseTrim=require("./_baseTrim"),isObject=require("./isObject"),isSymbol=require("./isSymbol"),NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=isObject(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var t=reIsBinary.test(e);return t||reIsOctal.test(e)?freeParseInt(e.slice(2),t?2:8):reIsBadHex.test(e)?NAN:+e}module.exports=toNumber;

},{"./_baseTrim":19,"./isObject":67,"./isSymbol":71}],81:[function(require,module,exports){
var baseToString=require("./_baseToString");function toString(r){return null==r?"":baseToString(r)}module.exports=toString;

},{"./_baseToString":18}],82:[function(require,module,exports){
var toString=require("./toString"),unescapeHtmlChar=require("./_unescapeHtmlChar"),reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reHasEscapedHtml=RegExp(reEscapedHtml.source);function unescape(e){return(e=toString(e))&&reHasEscapedHtml.test(e)?e.replace(reEscapedHtml,unescapeHtmlChar):e}module.exports=unescape;

},{"./_unescapeHtmlChar":52,"./toString":81}],83:[function(require,module,exports){
var LZString=function(){var o=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={};function t(o,r){if(!e[o]){e[o]={};for(var n=0;n<o.length;n++)e[o][o.charAt(n)]=n}return e[o][r]}var i={compressToBase64:function(o){if(null==o)return"";var n=i._compress(o,6,function(o){return r.charAt(o)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(o){return null==o?"":""==o?null:i._decompress(o.length,32,function(n){return t(r,o.charAt(n))})},compressToUTF16:function(r){return null==r?"":i._compress(r,15,function(r){return o(r+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:i._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=i.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;e<t;e++){var s=r.charCodeAt(e);n[2*e]=s>>>8,n[2*e+1]=s%256}return n},decompressFromUint8Array:function(r){if(null==r)return i.decompress(r);for(var n=new Array(r.length/2),e=0,t=n.length;e<t;e++)n[e]=256*r[2*e]+r[2*e+1];var s=[];return n.forEach(function(r){s.push(o(r))}),i.decompress(s.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":i._compress(o,6,function(o){return n.charAt(o)})},decompressFromEncodedURIComponent:function(o){return null==o?"":""==o?null:(o=o.replace(/ /g,"+"),i._decompress(o.length,32,function(r){return t(n,o.charAt(r))}))},compress:function(r){return i._compress(r,16,function(r){return o(r)})},_compress:function(o,r,n){if(null==o)return"";var e,t,i,s={},p={},u="",c="",a="",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<o.length;i+=1)if(u=o.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(s,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),s[c]=f++,a=String(u)}if(""!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:i._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(r,n,e){var t,i,s,p,u,c,a,l=[],f=4,h=4,d=3,m="",v=[],w={val:e(0),position:n,index:1};for(t=0;t<3;t+=1)l[t]=t;for(s=0,u=Math.pow(2,2),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;a=o(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;a=o(s);break;case 2:return""}for(l[3]=a,i=a,v.push(a);;){if(w.index>r)return"";for(s=0,u=Math.pow(2,d),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;switch(a=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;l[h++]=o(s),a=h-1,f--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;l[h++]=o(s),a=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[a])m=l[a];else{if(a!==h)return null;m=i+i.charAt(0)}v.push(m),l[h++]=i+m.charAt(0),i=m,0==--f&&(f=Math.pow(2,d),d++)}}};return i}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);

},{}],84:[function(require,module,exports){
!function(e,u){"object"==typeof exports&&"undefined"!=typeof module?module.exports=u():"function"==typeof define&&define.amd?define(u):(e="undefined"!=typeof globalThis?globalThis:e||self).marked=u()}(this,function(){"use strict";function e(e,u){for(var t=0;t<u.length;t++){var n=u[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,u){(null==u||u>e.length)&&(u=e.length);for(var t=0,n=new Array(u);t<u;t++)n[t]=e[t];return n}function t(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var n,r=(function(e){function u(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:u,changeDefaults:function(u){e.exports.defaults=u}}}(n={exports:{}},n.exports),n.exports),i=/[&<>"']/,s=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=function(e){return D[e]};var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(c,function(e,u){return"colon"===(u=u.toLowerCase())?":":"#"===u.charAt(0)?"x"===u.charAt(1)?String.fromCharCode(parseInt(u.substring(2),16)):String.fromCharCode(+u.substring(1)):""})}var p=/(^|[^\[])\^/g;var g=/[^\w:]/g,f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var F={},A=/^[^:]+:\/*[^/]*$/,C=/^([^:]+:)[\s\S]*$/,d=/^([^:]+:\/*[^/]*)[\s\S]*$/;function E(e,u){F[" "+e]||(A.test(e)?F[" "+e]=e+"/":F[" "+e]=k(e,"/",!0));var t=-1===(e=F[" "+e]).indexOf(":");return"//"===u.substring(0,2)?t?u:e.replace(C,"$1")+u:"/"===u.charAt(0)?t?u:e.replace(d,"$1")+u:e+u}function k(e,u,t){var n=e.length;if(0===n)return"";for(var r=0;r<n;){var i=e.charAt(n-r-1);if(i!==u||t){if(i===u||!t)break;r++}else r++}return e.substr(0,n-r)}var m=function(e,u){if(u){if(i.test(e))return e.replace(s,o)}else if(l.test(e))return e.replace(a,o);return e},b=h,x=function(e,u){e=e.source||e,u=u||"";var t={replace:function(u,n){return n=(n=n.source||n).replace(p,"$1"),e=e.replace(u,n),t},getRegex:function(){return new RegExp(e,u)}};return t},B=function(e,u,t){if(e){var n;try{n=decodeURIComponent(h(t)).replace(g,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}u&&!f.test(t)&&(t=E(u,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(e){return null}return t},w={exec:function(){}},v=function(e){for(var u,t,n=1;n<arguments.length;n++)for(t in u=arguments[n])Object.prototype.hasOwnProperty.call(u,t)&&(e[t]=u[t]);return e},y=function(e,u){var t=e.replace(/\|/g,function(e,u,t){for(var n=!1,r=u;--r>=0&&"\\"===t[r];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(t.length>u)t.splice(u);else for(;t.length<u;)t.push("");for(;n<t.length;n++)t[n]=t[n].trim().replace(/\\\|/g,"|");return t},_=k,z=function(e,u){if(-1===e.indexOf(u[1]))return-1;for(var t=e.length,n=0,r=0;r<t;r++)if("\\"===e[r])r++;else if(e[r]===u[0])n++;else if(e[r]===u[1]&&--n<0)return r;return-1},$=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},S=function(e,u){if(u<1)return"";for(var t="";u>1;)1&u&&(t+=e),u>>=1,e+=e;return t+e},T=r.defaults,I=_,R=y,Z=m,q=z;function O(e,u,t){var n=u.href,r=u.title?Z(u.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:t,href:n,title:r,text:i}:{type:"image",raw:t,href:n,title:r,text:Z(i)}}var j=function(){function e(e){this.options=e||T}var u=e.prototype;return u.space=function(e){var u=this.rules.block.newline.exec(e);if(u)return u[0].length>1?{type:"space",raw:u[0]}:{raw:"\n"}},u.code=function(e){var u=this.rules.block.code.exec(e);if(u){var t=u[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:u[0],codeBlockStyle:"indented",text:this.options.pedantic?t:I(t,"\n")}}},u.fences=function(e){var u=this.rules.block.fences.exec(e);if(u){var t=u[0],n=function(e,u){var t=e.match(/^(\s+)(?:```)/);if(null===t)return u;var n=t[1];return u.split("\n").map(function(e){var u=e.match(/^\s+/);return null===u?e:u[0].length>=n.length?e.slice(n.length):e}).join("\n")}(t,u[3]||"");return{type:"code",raw:t,lang:u[2]?u[2].trim():u[2],text:n}}},u.heading=function(e){var u=this.rules.block.heading.exec(e);if(u){var t=u[2].trim();if(/#$/.test(t)){var n=I(t,"#");this.options.pedantic?t=n.trim():n&&!/ $/.test(n)||(t=n.trim())}return{type:"heading",raw:u[0],depth:u[1].length,text:t}}},u.nptable=function(e){var u=this.rules.block.nptable.exec(e);if(u){var t={type:"table",header:R(u[1].replace(/^ *| *\| *$/g,"")),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3]?u[3].replace(/\n$/,"").split("\n"):[],raw:u[0]};if(t.header.length===t.align.length){var n,r=t.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(t.align[n])?t.align[n]="right":/^ *:-+: *$/.test(t.align[n])?t.align[n]="center":/^ *:-+ *$/.test(t.align[n])?t.align[n]="left":t.align[n]=null;for(r=t.cells.length,n=0;n<r;n++)t.cells[n]=R(t.cells[n],t.header.length);return t}}},u.hr=function(e){var u=this.rules.block.hr.exec(e);if(u)return{type:"hr",raw:u[0]}},u.blockquote=function(e){var u=this.rules.block.blockquote.exec(e);if(u){var t=u[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:u[0],text:t}}},u.list=function(e){var u=this.rules.block.list.exec(e);if(u){var t,n,r,i,s,l,a,D,o,c=u[0],h=u[2],p=h.length>1,g={type:"list",raw:c,ordered:p,start:p?+h.slice(0,-1):"",loose:!1,items:[]},f=u[0].match(this.rules.block.item),F=!1,A=f.length;r=this.rules.block.listItemStart.exec(f[0]);for(var C=0;C<A;C++){if(c=t=f[C],this.options.pedantic||(o=t.match(new RegExp("\\n\\s*\\n {0,"+(r[0].length-1)+"}\\S")))&&(s=t.length-o.index+f.slice(C+1).join("\n").length,g.raw=g.raw.substring(0,g.raw.length-s),c=t=t.substring(0,o.index),A=C+1),C!==A-1){if(i=this.rules.block.listItemStart.exec(f[C+1]),this.options.pedantic?i[1].length>r[1].length:i[1].length>=r[0].length||i[1].length>3){f.splice(C,2,f[C]+(!this.options.pedantic&&i[1].length<r[0].length&&!f[C].match(/\n$/)?"":"\n")+f[C+1]),C--,A--;continue}(!this.options.pedantic||this.options.smartLists?i[2][i[2].length-1]!==h[h.length-1]:p===(1===i[2].length))&&(s=f.slice(C+1).join("\n").length,g.raw=g.raw.substring(0,g.raw.length-s),C=A-1),r=i}n=t.length,~(t=t.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(n-=t.length,t=this.options.pedantic?t.replace(/^ {1,4}/gm,""):t.replace(new RegExp("^ {1,"+n+"}","gm"),"")),t=I(t,"\n"),C!==A-1&&(c+="\n"),l=F||/\n\n(?!\s*$)/.test(c),C!==A-1&&(F="\n\n"===c.slice(-2),l||(l=F)),l&&(g.loose=!0),this.options.gfm&&(D=void 0,(a=/^\[[ xX]\] /.test(t))&&(D=" "!==t[1],t=t.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:c,task:a,checked:D,loose:l,text:t})}return g}},u.html=function(e){var u=this.rules.block.html.exec(e);if(u)return{type:this.options.sanitize?"paragraph":"html",raw:u[0],pre:!this.options.sanitizer&&("pre"===u[1]||"script"===u[1]||"style"===u[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):Z(u[0]):u[0]}},u.def=function(e){var u=this.rules.block.def.exec(e);if(u)return u[3]&&(u[3]=u[3].substring(1,u[3].length-1)),{type:"def",tag:u[1].toLowerCase().replace(/\s+/g," "),raw:u[0],href:u[2],title:u[3]}},u.table=function(e){var u=this.rules.block.table.exec(e);if(u){var t={type:"table",header:R(u[1].replace(/^ *| *\| *$/g,"")),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3]?u[3].replace(/\n$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=u[0];var n,r=t.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(t.align[n])?t.align[n]="right":/^ *:-+: *$/.test(t.align[n])?t.align[n]="center":/^ *:-+ *$/.test(t.align[n])?t.align[n]="left":t.align[n]=null;for(r=t.cells.length,n=0;n<r;n++)t.cells[n]=R(t.cells[n].replace(/^ *\| *| *\| *$/g,""),t.header.length);return t}}},u.lheading=function(e){var u=this.rules.block.lheading.exec(e);if(u)return{type:"heading",raw:u[0],depth:"="===u[2].charAt(0)?1:2,text:u[1]}},u.paragraph=function(e){var u=this.rules.block.paragraph.exec(e);if(u)return{type:"paragraph",raw:u[0],text:"\n"===u[1].charAt(u[1].length-1)?u[1].slice(0,-1):u[1]}},u.text=function(e){var u=this.rules.block.text.exec(e);if(u)return{type:"text",raw:u[0],text:u[0]}},u.escape=function(e){var u=this.rules.inline.escape.exec(e);if(u)return{type:"escape",raw:u[0],text:Z(u[1])}},u.tag=function(e,u,t){var n=this.rules.inline.tag.exec(e);if(n)return!u&&/^<a /i.test(n[0])?u=!0:u&&/^<\/a>/i.test(n[0])&&(u=!1),!t&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?t=!0:t&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(t=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:u,inRawBlock:t,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Z(n[0]):n[0]}},u.link=function(e){var u=this.rules.inline.link.exec(e);if(u){var t=u[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;var n=I(t.slice(0,-1),"\\");if((t.length-n.length)%2==0)return}else{var r=q(u[2],"()");if(r>-1){var i=(0===u[0].indexOf("!")?5:4)+u[1].length+r;u[2]=u[2].substring(0,r),u[0]=u[0].substring(0,i).trim(),u[3]=""}}var s=u[2],l="";if(this.options.pedantic){var a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],l=a[3])}else l=u[3]?u[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(t)?s.slice(1):s.slice(1,-1)),O(u,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:l?l.replace(this.rules.inline._escapes,"$1"):l},u[0])}},u.reflink=function(e,u){var t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){var n=(t[2]||t[1]).replace(/\s+/g," ");if(!(n=u[n.toLowerCase()])||!n.href){var r=t[0].charAt(0);return{type:"text",raw:r,text:r}}return O(t,n,t[0])}},u.emStrong=function(e,u,t){void 0===t&&(t="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!t.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var r=n[1]||n[2]||"";if(!r||r&&(""===t||this.rules.inline.punctuation.exec(t))){var i,s,l=n[0].length-1,a=l,D=0,o="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(o.lastIndex=0,u=u.slice(-1*e.length+l);null!=(n=o.exec(u));)if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(s=i.length,n[3]||n[4])a+=s;else if(!((n[5]||n[6])&&l%3)||(l+s)%3){if(!((a-=s)>0)){if(a+D-s<=0&&!u.slice(o.lastIndex).match(o)&&(s=Math.min(s,s+a+D)),Math.min(l,s)%2)return{type:"em",raw:e.slice(0,l+n.index+s+1),text:e.slice(1,l+n.index+s)};if(Math.min(l,s)%2==0)return{type:"strong",raw:e.slice(0,l+n.index+s+1),text:e.slice(2,l+n.index+s-1)}}}else D+=s}}},u.codespan=function(e){var u=this.rules.inline.code.exec(e);if(u){var t=u[2].replace(/\n/g," "),n=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return n&&r&&(t=t.substring(1,t.length-1)),t=Z(t,!0),{type:"codespan",raw:u[0],text:t}}},u.br=function(e){var u=this.rules.inline.br.exec(e);if(u)return{type:"br",raw:u[0]}},u.del=function(e){var u=this.rules.inline.del.exec(e);if(u)return{type:"del",raw:u[0],text:u[2]}},u.autolink=function(e,u){var t,n,r=this.rules.inline.autolink.exec(e);if(r)return n="@"===r[2]?"mailto:"+(t=Z(this.options.mangle?u(r[1]):r[1])):t=Z(r[1]),{type:"link",raw:r[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}},u.url=function(e,u){var t;if(t=this.rules.inline.url.exec(e)){var n,r;if("@"===t[2])r="mailto:"+(n=Z(this.options.mangle?u(t[0]):t[0]));else{var i;do{i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(i!==t[0]);n=Z(t[0]),r="www."===t[1]?"http://"+n:n}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}},u.inlineText=function(e,u,t){var n,r=this.rules.inline.text.exec(e);if(r)return n=u?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Z(r[0]):r[0]:Z(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:n}},e}(),U=w,P=x,L=v,M={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:U,table:U,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};M.def=P(M.def).replace("label",M._label).replace("title",M._title).getRegex(),M.bullet=/(?:[*+-]|\d{1,9}[.)])/,M.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,M.item=P(M.item,"gm").replace(/bull/g,M.bullet).getRegex(),M.listItemStart=P(/^( *)(bull) */).replace("bull",M.bullet).getRegex(),M.list=P(M.list).replace(/bull/g,M.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+M.def.source+")").getRegex(),M._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,M.html=P(M.html,"i").replace("comment",M._comment).replace("tag",M._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),M.paragraph=P(M._paragraph).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.blockquote=P(M.blockquote).replace("paragraph",M.paragraph).getRegex(),M.normal=L({},M),M.gfm=L({},M.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),M.gfm.nptable=P(M.gfm.nptable).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.gfm.table=P(M.gfm.table).replace("hr",M.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",M._tag).getRegex(),M.pedantic=L({},M.normal,{html:P("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",M._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,paragraph:P(M.normal._paragraph).replace("hr",M.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",M.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var N={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:U,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};N.punctuation=P(N.punctuation).replace(/punctuation/g,N._punctuation).getRegex(),N.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,N.escapedEmSt=/\\\*|\\_/g,N._comment=P(M._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),N.emStrong.lDelim=P(N.emStrong.lDelim).replace(/punct/g,N._punctuation).getRegex(),N.emStrong.rDelimAst=P(N.emStrong.rDelimAst,"g").replace(/punct/g,N._punctuation).getRegex(),N.emStrong.rDelimUnd=P(N.emStrong.rDelimUnd,"g").replace(/punct/g,N._punctuation).getRegex(),N._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,N._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,N._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,N.autolink=P(N.autolink).replace("scheme",N._scheme).replace("email",N._email).getRegex(),N._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,N.tag=P(N.tag).replace("comment",N._comment).replace("attribute",N._attribute).getRegex(),N._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,N._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,N._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,N.link=P(N.link).replace("label",N._label).replace("href",N._href).replace("title",N._title).getRegex(),N.reflink=P(N.reflink).replace("label",N._label).getRegex(),N.reflinkSearch=P(N.reflinkSearch,"g").replace("reflink",N.reflink).replace("nolink",N.nolink).getRegex(),N.normal=L({},N),N.pedantic=L({},N.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",N._label).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",N._label).getRegex()}),N.gfm=L({},N.normal,{escape:P(N.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),N.gfm.url=P(N.gfm.url,"i").replace("email",N.gfm._extended_email).getRegex(),N.breaks=L({},N.gfm,{br:P(N.br).replace("{2,}","*").getRegex(),text:P(N.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var X={block:M,inline:N},G=r.defaults,V=X.block,H=X.inline,J=S;function K(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Q(e){var u,t,n="",r=e.length;for(u=0;u<r;u++)t=e.charCodeAt(u),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}var W=function(){function u(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||G,this.options.tokenizer=this.options.tokenizer||new j,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var u={block:V.normal,inline:H.normal};this.options.pedantic?(u.block=V.pedantic,u.inline=H.pedantic):this.options.gfm&&(u.block=V.gfm,this.options.breaks?u.inline=H.breaks:u.inline=H.gfm),this.tokenizer.rules=u}u.lex=function(e,t){return new u(t).lex(e)},u.lexInline=function(e,t){return new u(t).inlineTokens(e)};var t,n,r,i=u.prototype;return i.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(e,u,t){var n,r,i,s;for(void 0===u&&(u=[]),void 0===t&&(t=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),n.type&&u.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),(s=u[u.length-1])&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text):u.push(n);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),u.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),u.push(n);else if(n=this.tokenizer.nptable(e))e=e.substring(n.raw.length),u.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),u.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),n.tokens=this.blockTokens(n.text,[],t),u.push(n);else if(n=this.tokenizer.list(e)){for(e=e.substring(n.raw.length),i=n.items.length,r=0;r<i;r++)n.items[r].tokens=this.blockTokens(n.items[r].text,[],!1);u.push(n)}else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),u.push(n);else if(t&&(n=this.tokenizer.def(e)))e=e.substring(n.raw.length),this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),u.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),u.push(n);else if(t&&(n=this.tokenizer.paragraph(e)))e=e.substring(n.raw.length),u.push(n);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(s=u[u.length-1])&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text):u.push(n);else if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}return u},i.inline=function(e){var u,t,n,r,i,s,l=e.length;for(u=0;u<l;u++)switch((s=e[u]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},r=s.header.length,t=0;t<r;t++)s.tokens.header[t]=[],this.inlineTokens(s.header[t],s.tokens.header[t]);for(r=s.cells.length,t=0;t<r;t++)for(i=s.cells[t],s.tokens.cells[t]=[],n=0;n<i.length;n++)s.tokens.cells[t][n]=[],this.inlineTokens(i[n],s.tokens.cells[t][n]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(r=s.items.length,t=0;t<r;t++)this.inline(s.items[t].tokens)}return e},i.inlineTokens=function(e,u,t,n){var r,i;void 0===u&&(u=[]),void 0===t&&(t=!1),void 0===n&&(n=!1);var s,l,a,D=e;if(this.tokens.links){var o=Object.keys(this.tokens.links);if(o.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(D));)o.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(D=D.slice(0,s.index)+"["+J("a",s[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(D));)D=D.slice(0,s.index)+"["+J("a",s[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(D));)D=D.slice(0,s.index)+"++"+D.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(a=""),l=!1,r=this.tokenizer.escape(e))e=e.substring(r.raw.length),u.push(r);else if(r=this.tokenizer.tag(e,t,n)){e=e.substring(r.raw.length),t=r.inLink,n=r.inRawBlock;var c=u[u.length-1];c&&"text"===r.type&&"text"===c.type?(c.raw+=r.raw,c.text+=r.text):u.push(r)}else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,n)),u.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);var h=u[u.length-1];"link"===r.type?(r.tokens=this.inlineTokens(r.text,[],!0,n),u.push(r)):h&&"text"===r.type&&"text"===h.type?(h.raw+=r.raw,h.text+=r.text):u.push(r)}else if(r=this.tokenizer.emStrong(e,D,a))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],t,n),u.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),u.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),u.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],t,n),u.push(r);else if(r=this.tokenizer.autolink(e,Q))e=e.substring(r.raw.length),u.push(r);else if(t||!(r=this.tokenizer.url(e,Q))){if(r=this.tokenizer.inlineText(e,n,K))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(a=r.raw.slice(-1)),l=!0,(i=u[u.length-1])&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):u.push(r);else if(e){var p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}else e=e.substring(r.raw.length),u.push(r);return u},t=u,r=[{key:"rules",get:function(){return{block:V,inline:H}}}],(n=null)&&e(t.prototype,n),r&&e(t,r),u}(),Y=r.defaults,ee=B,ue=m,te=function(){function e(e){this.options=e||Y}var u=e.prototype;return u.code=function(e,u,t){var n=(u||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,n);null!=r&&r!==e&&(t=!0,e=r)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+ue(n,!0)+'">'+(t?e:ue(e,!0))+"</code></pre>\n":"<pre><code>"+(t?e:ue(e,!0))+"</code></pre>\n"},u.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},u.html=function(e){return e},u.heading=function(e,u,t,n){return this.options.headerIds?"<h"+u+' id="'+this.options.headerPrefix+n.slug(t)+'">'+e+"</h"+u+">\n":"<h"+u+">"+e+"</h"+u+">\n"},u.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},u.list=function(e,u,t){var n=u?"ol":"ul";return"<"+n+(u&&1!==t?' start="'+t+'"':"")+">\n"+e+"</"+n+">\n"},u.listitem=function(e){return"<li>"+e+"</li>\n"},u.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},u.paragraph=function(e){return"<p>"+e+"</p>\n"},u.table=function(e,u){return u&&(u="<tbody>"+u+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+u+"</table>\n"},u.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},u.tablecell=function(e,u){var t=u.header?"th":"td";return(u.align?"<"+t+' align="'+u.align+'">':"<"+t+">")+e+"</"+t+">\n"},u.strong=function(e){return"<strong>"+e+"</strong>"},u.em=function(e){return"<em>"+e+"</em>"},u.codespan=function(e){return"<code>"+e+"</code>"},u.br=function(){return this.options.xhtml?"<br/>":"<br>"},u.del=function(e){return"<del>"+e+"</del>"},u.link=function(e,u,t){if(null===(e=ee(this.options.sanitize,this.options.baseUrl,e)))return t;var n='<a href="'+ue(e)+'"';return u&&(n+=' title="'+u+'"'),n+=">"+t+"</a>"},u.image=function(e,u,t){if(null===(e=ee(this.options.sanitize,this.options.baseUrl,e)))return t;var n='<img src="'+e+'" alt="'+t+'"';return u&&(n+=' title="'+u+'"'),n+=this.options.xhtml?"/>":">"},u.text=function(e){return e},e}(),ne=function(){function e(){}var u=e.prototype;return u.strong=function(e){return e},u.em=function(e){return e},u.codespan=function(e){return e},u.del=function(e){return e},u.html=function(e){return e},u.text=function(e){return e},u.link=function(e,u,t){return""+t},u.image=function(e,u,t){return""+t},u.br=function(){return""},e}(),re=function(){function e(){this.seen={}}var u=e.prototype;return u.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},u.getNextSafeSlug=function(e,u){var t=e,n=0;if(this.seen.hasOwnProperty(t)){n=this.seen[e];do{t=e+"-"+ ++n}while(this.seen.hasOwnProperty(t))}return u||(this.seen[e]=n,this.seen[t]=0),t},u.slug=function(e,u){void 0===u&&(u={});var t=this.serialize(e);return this.getNextSafeSlug(t,u.dryrun)},e}(),ie=r.defaults,se=b,le=function(){function e(e){this.options=e||ie,this.options.renderer=this.options.renderer||new te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ne,this.slugger=new re}e.parse=function(u,t){return new e(t).parse(u)},e.parseInline=function(u,t){return new e(t).parseInline(u)};var u=e.prototype;return u.parse=function(e,u){void 0===u&&(u=!0);var t,n,r,i,s,l,a,D,o,c,h,p,g,f,F,A,C,d,E="",k=e.length;for(t=0;t<k;t++)switch((c=e[t]).type){case"space":continue;case"hr":E+=this.renderer.hr();continue;case"heading":E+=this.renderer.heading(this.parseInline(c.tokens),c.depth,se(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":E+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(D="",a="",i=c.header.length,n=0;n<i;n++)a+=this.renderer.tablecell(this.parseInline(c.tokens.header[n]),{header:!0,align:c.align[n]});for(D+=this.renderer.tablerow(a),o="",i=c.cells.length,n=0;n<i;n++){for(a="",s=(l=c.tokens.cells[n]).length,r=0;r<s;r++)a+=this.renderer.tablecell(this.parseInline(l[r]),{header:!1,align:c.align[r]});o+=this.renderer.tablerow(a)}E+=this.renderer.table(D,o);continue;case"blockquote":o=this.parse(c.tokens),E+=this.renderer.blockquote(o);continue;case"list":for(h=c.ordered,p=c.start,g=c.loose,i=c.items.length,o="",n=0;n<i;n++)A=(F=c.items[n]).checked,C=F.task,f="",F.task&&(d=this.renderer.checkbox(A),g?F.tokens.length>0&&"text"===F.tokens[0].type?(F.tokens[0].text=d+" "+F.tokens[0].text,F.tokens[0].tokens&&F.tokens[0].tokens.length>0&&"text"===F.tokens[0].tokens[0].type&&(F.tokens[0].tokens[0].text=d+" "+F.tokens[0].tokens[0].text)):F.tokens.unshift({type:"text",text:d}):f+=d),f+=this.parse(F.tokens,g),o+=this.renderer.listitem(f,C,A);E+=this.renderer.list(o,h,p);continue;case"html":E+=this.renderer.html(c.text);continue;case"paragraph":E+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(o=c.tokens?this.parseInline(c.tokens):c.text;t+1<k&&"text"===e[t+1].type;)o+="\n"+((c=e[++t]).tokens?this.parseInline(c.tokens):c.text);E+=u?this.renderer.paragraph(o):o;continue;default:var m='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(m);throw new Error(m)}return E},u.parseInline=function(e,u){u=u||this.renderer;var t,n,r="",i=e.length;for(t=0;t<i;t++)switch((n=e[t]).type){case"escape":r+=u.text(n.text);break;case"html":r+=u.html(n.text);break;case"link":r+=u.link(n.href,n.title,this.parseInline(n.tokens,u));break;case"image":r+=u.image(n.href,n.title,n.text);break;case"strong":r+=u.strong(this.parseInline(n.tokens,u));break;case"em":r+=u.em(this.parseInline(n.tokens,u));break;case"codespan":r+=u.codespan(n.text);break;case"br":r+=u.br();break;case"del":r+=u.del(this.parseInline(n.tokens,u));break;case"text":r+=u.text(n.text);break;default:var s='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return r},e}(),ae=v,De=$,oe=m,ce=r.getDefaults,he=r.changeDefaults,pe=r.defaults;function ge(e,u,t){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof u&&(t=u,u=null),u=ae({},ge.defaults,u||{}),De(u),t){var n,r=u.highlight;try{n=W.lex(e,u)}catch(e){return t(e)}var i=function(e){var i;if(!e)try{i=le.parse(n,u)}catch(u){e=u}return u.highlight=r,e?t(e):t(null,i)};if(!r||r.length<3)return i();if(delete u.highlight,!n.length)return i();var s=0;return ge.walkTokens(n,function(e){"code"===e.type&&(s++,setTimeout(function(){r(e.text,e.lang,function(u,t){if(u)return i(u);null!=t&&t!==e.text&&(e.text=t,e.escaped=!0),0===--s&&i()})},0))}),void(0===s&&i())}try{var l=W.lex(e,u);return u.walkTokens&&ge.walkTokens(l,u.walkTokens),le.parse(l,u)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",u.silent)return"<p>An error occurred:</p><pre>"+oe(e.message+"",!0)+"</pre>";throw e}}return ge.options=ge.setOptions=function(e){return ae(ge.defaults,e),he(ge.defaults),ge},ge.getDefaults=ce,ge.defaults=pe,ge.use=function(e){var u=ae({},e);if(e.renderer&&function(){var t=ge.defaults.renderer||new te,n=function(u){var n=t[u];t[u]=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=e.renderer[u].apply(t,i);return!1===l&&(l=n.apply(t,i)),l}};for(var r in e.renderer)n(r);u.renderer=t}(),e.tokenizer&&function(){var t=ge.defaults.tokenizer||new j,n=function(u){var n=t[u];t[u]=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=e.tokenizer[u].apply(t,i);return!1===l&&(l=n.apply(t,i)),l}};for(var r in e.tokenizer)n(r);u.tokenizer=t}(),e.walkTokens){var t=ge.defaults.walkTokens;u.walkTokens=function(u){e.walkTokens(u),t&&t(u)}}ge.setOptions(u)},ge.walkTokens=function(e,u){for(var n,r=t(e);!(n=r()).done;){var i=n.value;switch(u(i),i.type){case"table":for(var s,l=t(i.tokens.header);!(s=l()).done;){var a=s.value;ge.walkTokens(a,u)}for(var D,o=t(i.tokens.cells);!(D=o()).done;)for(var c,h=t(D.value);!(c=h()).done;){var p=c.value;ge.walkTokens(p,u)}break;case"list":ge.walkTokens(i.items,u);break;default:i.tokens&&ge.walkTokens(i.tokens,u)}}},ge.parseInline=function(e,u){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");u=ae({},ge.defaults,u||{}),De(u);try{var t=W.lexInline(e,u);return u.walkTokens&&ge.walkTokens(t,u.walkTokens),le.parseInline(t,u)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",u.silent)return"<p>An error occurred:</p><pre>"+oe(e.message+"",!0)+"</pre>";throw e}},ge.Parser=le,ge.parser=le.parse,ge.Renderer=te,ge.TextRenderer=ne,ge.Lexer=W,ge.lexer=W.lex,ge.Tokenizer=j,ge.Slugger=re,ge.parse=ge,ge});

},{}],85:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}var template=require("lodash/template"),unescape=require("lodash/unescape"),Passage=function(){function e(r,t,a,n){if(_classCallCheck(this,e),"undefined"==typeof marked||null===marked)throw new Error("Global 'marked' not defined!");this.id=r||1,this.name=t||"Default",this.tags=a||[],this.source=unescape(n)}return _createClass(e,[{key:"render",value:function(e){null==e&&(e=this.source);var r="";try{r=template(e)({s:window.story.state})}catch(e){var t=new CustomEvent("vanilja:error",{detail:{error:e,source:"Passage.render() using template()"}});window.dispatchEvent(t)}r=(r=r.replace(/\[\[(.*?)\]\]\{(.*?)\}/g,function(e,r,t){var a,n,s=r,i=(a=t.split(",").map(function(e){return e.trim()}),n={},a.forEach(function(e){var r=e.split(":").map(function(e){return e.trim()});n[r[0]]=r[1]}),n),u=[],o=r.indexOf("|");if(-1!==o)s=r.substr(0,o),r=r.substr(o+1);else{var c=r.indexOf("->");if(-1!==c)s=r.substr(0,c),r=r.substr(c+2);else{var l=r.indexOf("<-");-1!==l&&(s=r.substr(l+2),r=r.substr(0,l))}}for(var f in i["data-passage"]=r,i.href="javascript:void(0)",i)if(Object.hasOwnProperty.call(i,f)){var d=i[f];u.push("".concat(f,'="').concat(d,'"'))}return"<a "+u.join(" ")+">"+s+"</a>"})).replace(/\[\[(.*?)\]\]/g,function(e,r){var t=r,a=r.indexOf("|");if(-1!==a)t=r.substr(0,a),r=r.substr(a+1);else{var n=r.indexOf("->");if(-1!==n)t=r.substr(0,n),r=r.substr(n+2);else{var s=r.indexOf("<-");-1!==s&&(t=r.substr(s+2),r=r.substr(0,s))}}return'<a href="javascript:void(0)" data-passage="'+r+'">'+t+"</a>"});var a=new marked.Renderer;a.code=function(e){return e},marked.setOptions({smartypants:!0,renderer:a});var n=marked(r);return!r.endsWith("</p>\n")&&n.endsWith("</p>\n")&&(n=n.replace(/^<p>|<\/p>$|<\/p>\n$/g,"")),n}}]),e}();module.exports=Passage;

},{"lodash/template":77,"lodash/unescape":82}],86:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}var LZString=require("lz-string"),Passage=require("./Passage"),Utils=require("./Utils"),unescape=require("lodash/unescape"),isNumber=require("lodash/isNumber"),isString=require("lodash/isString"),Story=function(){function Story(t){var e=this;_classCallCheck(this,Story),this.dataEl=t,this.name=this.dataEl.getAttribute("name"),this.startPassage=parseInt(this.dataEl.getAttribute("startnode")),this.creator=this.dataEl.getAttribute("creator"),this.creatorVersion=this.dataEl.getAttribute("creator-version"),this.history=[],this.state={},this.checkpointName="",this.ignoreErrors=!1,this.errorMessage="",this.atCheckpoint=!1,this.passages=[];var s=[];t.querySelectorAll("tw-passagedata").forEach(function(t){var e=parseInt(t.getAttribute("pid")),r=t.getAttribute("tags");s[e]=new Passage(e,t.getAttribute("name"),""!==r&&void 0!==r?r.split(" "):[],t.innerHTML)}),this.passages=s,this.userScripts=[],t.querySelectorAll('*[type="text/twine-javascript"]').forEach(function(t){e.userScripts.push(t.innerHTML)}),this.userStyles=[],t.querySelectorAll('*[type="text/twine-css"]').forEach(function(t){e.userStyles.push(t.innerHTML)}),window.onerror=function(t,e,s,r,i){Story.emitError(i,"Browser Error")},window.addEventListener("vanilja:error",function(t){var s=t.detail,r=s.error,i=s.source;e.errorMessage="In "+i+": "+r.name+": "+r.message,e.ignoreErrors||(document.querySelector("tw-story").innerHTML=e.errorMessage)})}return _createClass(Story,[{key:"start",value:function start(el){var _this2=this;this.el=el,this.el.innerHTML='<tw-passage class="passage" aria-live="polite"></tw-passage>',this.passageEl=document.querySelector("tw-passage"),window.addEventListener("popstate",function(t){var e=t.originalEvent.state;e?(_this2.state=e.state,_this2.history=e.history,_this2.checkpointName=e.checkpointName,_this2.show(_this2.history[_this2.history.length-1],!0)):_this2.history.length>1&&(_this2.state={},_this2.history=[],_this2.checkpointName="",_this2.show(_this2.startPassage,!0))}),window.addEventListener("hashchange",function(){this.restore(window.location.hash.replace("#",""))}),this.userStyles.forEach(function(t){var e=document.createElement("style");e.innerHTML=t,_this2.el.append(e)}),this.userScripts.forEach(function(script){try{eval(script)}catch(t){Story.emitError(t,"Story JavaScript Eval()")}}),this.el.addEventListener("click",function(t){var e=t.target;"a"===e.tagName.toLowerCase()&&e.dataset.passage&&_this2.show(unescape(e.dataset.passage))});var startedEvent=new CustomEvent("vanilja:story:started",{detail:{story:this}});window.dispatchEvent(startedEvent),""!==window.location.hash&&this.restore(window.location.hash.replace("#",""))||(this.show(this.startPassage),this.atCheckpoint=!0)}},{key:"passage",value:function(t){var e=null;if(isNumber(t))t<this.passages.length&&(e=this.passages[t]);else if(isString(t)){var s=this.passages.filter(function(e){return e.name===t});0!==s.length?e=s[0]:0!==(s=this.passages.filter(function(e){return e.name.toLowerCase()===t.toLowerCase()})).length&&(e=s[0])}return e}},{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.passage(t);if(null===s)throw new Error('There is no passage with the ID or name "'+t+'"');if(Utils.dispatchEvent("story:hidden",{passage:window.passage}),Utils.dispatchEvent("story:showing",{passage:s}),!1===e){this.history.push(s.id);try{this.atCheckpoint?window.history.pushState({state:this.state,history:this.history,checkpointName:this.checkpointName},"",""):window.history.replaceState({state:this.state,history:this.history,checkpointName:this.checkpointName},"","")}catch(t){Utils.dispatchEvent("checkpoint:error",{error:t,description:"Checkpoint failed to save"})}Utils.dispatchEvent("checkpoint:added",{name:t})}window.passage=s,this.atCheckpoint=!1;try{this.passageEl.innerHTML=s.render(),this.passageEl.setAttribute("passage",s.name)}catch(t){Story.emitError(t,"Story.show()")}var r=new CustomEvent("vanilja:story:shown",{detail:{passage:s}});window.dispatchEvent(r)}},{key:"render",value:function(t){var e=this.passage(t);if(!e)throw this.emitError({name:"No passage",message:"There is no passage with the ID or name "+t},"Story.render()"),new Error("There is no passage with the ID or name "+t);return e.render()}},{key:"checkpoint",value:function(t){void 0!==t?(document.title=this.name+": "+t,this.checkpointName=t):this.checkpointName="",this.atCheckpoint=!0,Utils.dispatchEvent("checkpoint:adding",{name:t})}},{key:"save",value:function(t){window.location.hash=t,Utils.dispatchEvent("story:saved")}},{key:"saveHash",value:function(){return LZString.compressToBase64(JSON.stringify({state:this.state,history:this.history,checkpointName:this.checkpointName}))}},{key:"restore",value:function(t){try{var e=JSON.parse(LZString.decompressFromBase64(t));this.state=e.state,this.history=e.history,this.checkpointName=e.checkpointName,this.show(this.history[this.history.length-1],!0)}catch(t){return Utils.dispatchEvent("restore:error",{error:t}),!1}return Utils.dispatchEvent("restore:success"),!0}}],[{key:"emitError",value:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";Utils.dispatchEvent(s,{error:t,source:e})}}]),Story}();module.exports=Story;

},{"./Passage":85,"./Utils":87,"lodash/isNumber":66,"lodash/isString":70,"lodash/unescape":82,"lz-string":83}],87:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var random=require("lodash/random"),Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"either",value:function(){for(var e=[],t=0;t<arguments.length;t++)if(arguments[t]instanceof Array)for(var r=0;r<arguments[t].length;r++)e.push(arguments[t][r]);else e.push(arguments[t]);return e[random(e.length-1)]}},{key:"hasVisited",value:function(){if(!window.story)return!1;if(1===arguments.length){var e=window.story.passage(arguments[0]);return!!e&&window.story.history.includes(e.id)}for(var t=0;t<arguments.length;t++){var r=window.story.passage(arguments[t]);if(r&&window.story.history.includes(r.id))return!0}return!1}},{key:"visits",value:function(){for(var e=arguments,t=[],r=[],n=function(n){var i=window.story.passage(e[n]);null!==i&&(r=window.story.history.filter(function(e){return e===i.id})),t.push(r.length)},i=0;i<arguments.length;i++)n(i);return Math.min.apply(Math,t)}},{key:"renderToSelector",value:function(e,t){var r=window.story.passage(t);null!==r&&(document.querySelector(e).innerHTML=r.render())}},{key:"dispatchEvent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,n=new CustomEvent("vanilja:"+e,{detail:t});r.dispatchEvent(n)}},{key:"addStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("link");if(r.setAttribute("rel","stylesheet"),r.setAttribute("href",e),t)for(var n in t)if(Object.hasOwnProperty.call(t,n)){var i=t[n];r.setAttribute(n,i)}document.head.append(r)}},{key:"addScript",value:function(e,t){var r=document.createElement("script");if(r.setAttribute("src",e),t)for(var n in t)if(Object.hasOwnProperty.call(t,n)){var i=t[n];r.setAttribute(n,i)}document.head.append(r)}}]),e}();module.exports=Utils;

},{"lodash/random":75}],88:[function(require,module,exports){
"use strict";var marked=window.marked=require("marked"),Story=window.Story=require("./classes/Story.js"),Passage=window.Passage=require("./classes/Passage.js"),Utils=window.Utils=require("./classes/Utils.js");window.addEventListener("load",function(){window.story=new Story(document.querySelector("tw-storydata")),window.story.start(document.querySelector("tw-story"))});

},{"./classes/Passage.js":85,"./classes/Story.js":86,"./classes/Utils.js":87,"marked":84}]},{},[88]);

    </script>
  </body>
</html>
